<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Thread System: thread_module::adaptive_job_queue Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Thread System
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../de/d48/namespacethread__module.html">thread_module</a></li><li class="navelem"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html">adaptive_job_queue</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="../../d8/da0/classthread__module_1_1adaptive__job__queue-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">thread_module::adaptive_job_queue Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Adaptive queue that switches between mutex-based and lock-free implementations.  
 <a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for thread_module::adaptive_job_queue:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d87/classthread__module_1_1adaptive__job__queue__inherit__graph.png" border="0" usemap="#athread__module_1_1adaptive__job__queue_inherit__map" alt="Inheritance graph"/></div>
<map name="athread__module_1_1adaptive__job__queue_inherit__map" id="athread__module_1_1adaptive__job__queue_inherit__map">
<area shape="rect" title="Adaptive queue that switches between mutex&#45;based and lock&#45;free implementations." alt="" coords="5,541,249,1336"/>
<area shape="rect" href="../../df/d6d/classthread__module_1_1job__queue.html" title="A thread&#45;safe job queue for managing and dispatching work items." alt="" coords="57,133,197,493"/>
<area shape="poly" title=" " alt="" coords="130,507,130,541,125,541,125,507"/>
<area shape="rect" title=" " alt="" coords="37,5,217,85"/>
<area shape="poly" title=" " alt="" coords="123,99,122,133,116,133,117,99"/>
<area shape="poly" title=" " alt="" coords="137,99,138,133,133,133,132,99"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for thread_module::adaptive_job_queue:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/dc6/classthread__module_1_1adaptive__job__queue__coll__graph.png" border="0" usemap="#athread__module_1_1adaptive__job__queue_coll__map" alt="Collaboration graph"/></div>
<map name="athread__module_1_1adaptive__job__queue_coll__map" id="athread__module_1_1adaptive__job__queue_coll__map">
<area shape="rect" title="Adaptive queue that switches between mutex&#45;based and lock&#45;free implementations." alt="" coords="1047,2781,1291,3456"/>
<area shape="rect" href="../../df/d6d/classthread__module_1_1job__queue.html" title="A thread&#45;safe job queue for managing and dispatching work items." alt="" coords="861,1348,1001,1668"/>
<area shape="poly" title=" " alt="" coords="1014,1563,1077,1620,1106,1654,1131,1691,1184,1791,1220,1879,1245,1960,1259,2039,1267,2119,1272,2206,1283,2419,1294,2569,1292,2635,1283,2719,1273,2781,1267,2781,1278,2718,1287,2635,1289,2569,1278,2419,1267,2207,1262,2120,1254,2040,1240,1962,1215,1881,1179,1793,1126,1693,1102,1657,1073,1624,1010,1567"/>
<area shape="rect" title=" " alt="" coords="463,2315,623,2395"/>
<area shape="poly" title=" " alt="" coords="863,1555,799,1601,730,1660,665,1731,637,1770,614,1812,588,1875,568,1942,555,2010,546,2078,539,2202,542,2298,536,2298,534,2202,541,2077,549,2009,563,1941,583,1873,609,1810,633,1768,661,1728,726,1656,796,1596,859,1550"/>
<area shape="rect" title=" " alt="" coords="1085,2315,1253,2395"/>
<area shape="poly" title=" " alt="" coords="1004,1610,1057,1705,1082,1757,1102,1810,1121,1876,1136,1945,1157,2081,1167,2204,1171,2298,1166,2298,1162,2204,1152,2082,1131,1946,1116,1877,1097,1812,1077,1759,1052,1707,999,1613"/>
<area shape="rect" href="../../d1/de8/classthread__module_1_1lockfree__job__queue.html" title="High&#45;performance lock&#45;free Multiple Producer Multiple Consumer job queue." alt="" coords="1381,1811,1567,2291"/>
<area shape="poly" title=" " alt="" coords="1014,1582,1077,1628,1111,1649,1147,1666,1173,1673,1197,1675,1241,1670,1283,1669,1305,1675,1329,1690,1348,1711,1356,1733,1359,1758,1367,1786,1384,1826,1379,1828,1362,1788,1354,1759,1350,1735,1344,1714,1326,1694,1303,1680,1282,1674,1241,1675,1197,1680,1172,1678,1145,1670,1109,1653,1074,1633,1011,1586"/>
<area shape="rect" title=" " alt="" coords="841,903,1021,983"/>
<area shape="poly" title=" " alt="" coords="929,996,925,1157,926,1348,920,1348,920,1157,923,996"/>
<area shape="poly" title=" " alt="" coords="939,996,943,1157,942,1348,937,1348,937,1157,934,996"/>
<area shape="rect" title=" " alt="" coords="725,910,809,975"/>
<area shape="poly" title=" " alt="" coords="776,975,810,1126,835,1224,863,1323,866,1332,861,1333,858,1325,829,1226,805,1127,771,976"/>
<area shape="rect" href="../../d5/d43/structthread__module_1_1cancellation__token_1_1token__state.html" title=" " alt="" coords="368,1468,567,1548"/>
<area shape="poly" title=" " alt="" coords="764,976,747,1043,720,1133,681,1231,657,1280,630,1325,575,1397,520,1458,516,1454,571,1393,625,1323,652,1277,676,1229,715,1131,742,1042,758,975"/>
<area shape="rect" title=" " alt="" coords="602,3661,813,3741"/>
<area shape="poly" title=" " alt="" coords="732,3660,755,3613,763,3587,766,3560,766,2749,769,2603,779,2454,793,2307,811,2162,851,1897,891,1684,896,1685,857,1898,816,2163,798,2307,784,2455,775,2603,771,2749,771,3560,768,3588,760,3615,737,3662"/>
<area shape="rect" title=" " alt="" coords="499,3519,667,3599"/>
<area shape="poly" title=" " alt="" coords="620,3597,664,3647,660,3651,616,3601"/>
<area shape="rect" href="../../d8/d42/classthread__module_1_1job.html" title="Represents a unit of work (task) to be executed, typically by a job queue." alt="" coords="277,2996,466,3241"/>
<area shape="poly" title=" " alt="" coords="433,3241,560,3503,555,3505,428,3243"/>
<area shape="rect" title=" " alt="" coords="188,2536,267,2601"/>
<area shape="poly" title=" " alt="" coords="238,2601,338,2980,333,2981,233,2602"/>
<area shape="rect" title=" " alt="" coords="162,2011,293,2091"/>
<area shape="poly" title=" " alt="" coords="230,2104,230,2536,225,2536,225,2104"/>
<area shape="rect" title=" " alt="" coords="5,2536,164,2601"/>
<area shape="poly" title=" " alt="" coords="103,2600,303,2980,298,2983,99,2603"/>
<area shape="poly" title=" " alt="" coords="548,2395,549,2464,546,2554,538,2656,521,2758,486,2874,442,2982,437,2980,481,2872,515,2757,532,2656,541,2554,543,2464,542,2395"/>
<area shape="rect" href="../../df/d25/classthread__module_1_1cancellation__token.html" title="Provides a mechanism for cooperative cancellation of operations." alt="" coords="291,2419,489,2719"/>
<area shape="poly" title=" " alt="" coords="377,2719,375,2743,372,2864,371,2980,366,2980,366,2864,370,2743,371,2719"/>
<area shape="rect" title=" " alt="" coords="323,2003,491,2098"/>
<area shape="poly" title=" " alt="" coords="408,2098,398,2402,393,2402,403,2098"/>
<area shape="poly" title=" " alt="" coords="466,1548,417,1987,412,1987,460,1548"/>
<area shape="rect" title=" " alt="" coords="540,910,685,975"/>
<area shape="poly" title=" " alt="" coords="616,975,625,1207,631,1512,631,1749,638,1987,647,2126,662,2290,667,2363,669,2426,671,2534,676,2584,688,2636,709,2692,742,2756,770,2800,803,2842,877,2918,957,2984,1034,3037,1031,3042,954,2988,874,2922,799,2845,766,2803,737,2759,704,2695,683,2638,671,2585,665,2534,663,2426,662,2363,657,2291,642,2126,632,1987,626,1750,625,1512,619,1207,611,976"/>
<area shape="poly" title=" " alt="" coords="603,976,568,1078,529,1207,499,1339,479,1452,473,1452,494,1338,523,1206,562,1077,598,975"/>
<area shape="rect" title=" " alt="" coords="327,903,506,983"/>
<area shape="poly" title=" " alt="" coords="416,983,410,1133,412,1228,421,1324,434,1390,451,1451,446,1453,429,1392,415,1324,407,1228,405,1133,411,983"/>
<area shape="poly" title=" " alt="" coords="1171,2395,1171,2765,1166,2765,1166,2395"/>
<area shape="rect" title=" " alt="" coords="1369,2521,1537,2616"/>
<area shape="poly" title=" " alt="" coords="1431,2617,1301,2869,1296,2866,1426,2615"/>
<area shape="poly" title=" " alt="" coords="1467,2291,1458,2505,1453,2505,1461,2291"/>
<area shape="rect" title=" " alt="" coords="1279,895,1437,990"/>
<area shape="poly" title=" " alt="" coords="1360,990,1364,1277,1375,1471,1394,1668,1415,1794,1410,1795,1389,1668,1369,1471,1359,1277,1355,990"/>
<area shape="rect" href="../../da/d32/structthread__module_1_1lockfree__job__queue_1_1Node.html" title="Node structure for the queue." alt="" coords="1158,1428,1331,1588"/>
<area shape="poly" title=" " alt="" coords="1348,991,1317,1083,1295,1135,1268,1184,1256,1196,1247,1208,1233,1258,1227,1311,1227,1363,1230,1411,1225,1411,1221,1363,1222,1311,1228,1257,1242,1205,1252,1192,1264,1181,1290,1132,1312,1081,1343,989"/>
<area shape="poly" title=" " alt="" coords="1266,1427,1293,1323,1325,1152,1347,1006,1352,1007,1330,1153,1298,1325,1271,1428"/>
<area shape="rect" title=" " alt="" coords="979,456,1153,521"/>
<area shape="poly" title=" " alt="" coords="1065,522,1055,632,1049,796,1050,890,1056,988,1068,1087,1087,1182,1106,1244,1131,1305,1188,1413,1183,1415,1127,1307,1101,1246,1082,1183,1063,1087,1051,989,1045,890,1043,796,1050,631,1059,521"/>
<area shape="rect" title=" " alt="" coords="1035,223,1185,288"/>
<area shape="poly" title=" " alt="" coords="1107,289,1078,440,1072,439,1101,288"/>
<area shape="rect" title=" " alt="" coords="1188,5,1211,71"/>
<area shape="poly" title=" " alt="" coords="1190,68,1132,209,1127,207,1185,66"/>
<area shape="rect" title=" " alt="" coords="1210,133,1365,199"/>
<area shape="poly" title=" " alt="" coords="1213,54,1258,118,1253,121,1209,57"/>
<area shape="rect" title=" " alt="" coords="2011,910,2182,975"/>
<area shape="poly" title=" " alt="" coords="2096,976,2087,1023,2070,1080,2043,1137,2024,1162,2001,1185,1984,1195,1967,1199,1935,1197,1904,1195,1889,1199,1873,1209,1861,1222,1854,1236,1850,1267,1846,1298,1838,1313,1824,1326,1805,1336,1781,1343,1725,1349,1659,1347,1588,1342,1450,1333,1393,1337,1370,1342,1351,1350,1316,1379,1288,1416,1284,1412,1312,1375,1349,1346,1369,1337,1393,1332,1450,1328,1588,1336,1659,1342,1725,1343,1780,1338,1803,1331,1820,1322,1833,1309,1841,1296,1845,1266,1849,1235,1856,1219,1870,1205,1887,1194,1904,1190,1936,1192,1967,1194,1982,1190,1998,1181,2020,1159,2038,1134,2065,1078,2082,1022,2091,975"/>
<area shape="rect" href="../../d4/df7/structthread__module_1_1lockfree__job__queue_1_1atomic__statistics.html" title="Internal atomic statistics structure." alt="" coords="1881,1468,2088,1548"/>
<area shape="poly" title=" " alt="" coords="2093,976,2081,1020,2062,1074,2036,1131,2001,1184,1992,1193,1982,1196,1974,1200,1967,1208,1955,1238,1947,1269,1945,1335,1953,1398,1967,1451,1962,1453,1948,1399,1939,1335,1942,1269,1950,1236,1962,1205,1970,1196,1980,1191,1989,1188,1997,1181,2031,1129,2057,1072,2076,1019,2087,975"/>
<area shape="rect" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html" title="Internal atomic performance metrics." alt="" coords="2016,1692,2247,1787"/>
<area shape="poly" title=" " alt="" coords="2102,975,2121,1207,2130,1467,2134,1676,2128,1676,2125,1467,2115,1207,2097,976"/>
<area shape="rect" title=" " alt="" coords="1453,1453,1658,1563"/>
<area shape="poly" title=" " alt="" coords="1550,1563,1515,1795,1510,1794,1545,1563"/>
<area shape="rect" href="../../d8/dad/classthread__module_1_1node__pool.html" title=" " alt="" coords="1461,708,1636,1177"/>
<area shape="poly" title=" " alt="" coords="1554,1178,1557,1437,1552,1437,1549,1178"/>
<area shape="rect" title=" " alt="" coords="1137,545,1291,640"/>
<area shape="poly" title=" " alt="" coords="1248,638,1269,659,1293,676,1313,685,1332,688,1369,686,1407,685,1428,690,1449,701,1447,705,1426,695,1406,690,1369,691,1332,693,1312,690,1290,681,1265,663,1244,642"/>
<area shape="rect" href="../../d8/dc5/structthread__module_1_1node__pool_1_1FreeNode.html" title="Node in the free list." alt="" coords="1097,903,1254,983"/>
<area shape="poly" title=" " alt="" coords="1212,640,1184,887,1179,886,1206,640"/>
<area shape="poly" title=" " alt="" coords="1159,903,1146,854,1136,793,1135,727,1140,695,1149,663,1154,653,1158,655,1154,665,1145,696,1140,728,1141,793,1151,853,1164,902"/>
<area shape="rect" title=" " alt="" coords="1461,545,1615,640"/>
<area shape="poly" title=" " alt="" coords="1542,640,1544,691,1538,692,1537,640"/>
<area shape="rect" href="../../db/da3/structthread__module_1_1node__pool_1_1PoolChunk.html" title="A chunk of pre&#45;allocated nodes." alt="" coords="1417,332,1581,412"/>
<area shape="poly" title=" " alt="" coords="1509,412,1530,529,1524,530,1504,413"/>
<area shape="poly" title=" " alt="" coords="1583,349,1601,357,1608,372,1605,382,1598,388,1595,385,1601,379,1603,372,1597,361,1581,354"/>
<area shape="poly" title=" " alt="" coords="1322,197,1449,319,1445,322,1319,201"/>
<area shape="rect" title=" " alt="" coords="1422,133,1577,199"/>
<area shape="poly" title=" " alt="" coords="1475,201,1440,251,1408,313,1389,369,1380,415,1380,462,1389,521,1412,591,1458,710,1453,712,1407,593,1383,522,1375,462,1375,415,1384,368,1404,311,1435,249,1471,197"/>
<area shape="poly" title=" " alt="" coords="1502,199,1502,316,1497,316,1497,199"/>
<area shape="rect" href="../../d7/ded/classthread__module_1_1hazard__pointer__manager.html" title="Thread&#45;safe memory reclamation using hazard pointers." alt="" coords="1775,703,1987,1183"/>
<area shape="poly" title=" " alt="" coords="1577,172,1709,189,1863,217,1937,235,2002,257,2055,281,2075,295,2090,311,2098,332,2103,369,2104,468,2096,572,2088,613,2079,641,2062,664,2042,676,2022,686,2001,704,1999,707,1995,704,1997,701,2019,682,2040,671,2058,660,2074,639,2083,612,2090,571,2099,468,2097,370,2093,334,2085,313,2071,299,2052,286,2000,261,1936,240,1862,222,1708,194,1576,177"/>
<area shape="rect" title=" " alt="" coords="1683,1461,1857,1555"/>
<area shape="poly" title=" " alt="" coords="1747,1557,1577,1867,1572,1864,1742,1554"/>
<area shape="poly" title=" " alt="" coords="1797,1184,1791,1207,1781,1270,1775,1333,1772,1444,1766,1444,1770,1333,1776,1269,1786,1206,1791,1182"/>
<area shape="rect" title=" " alt="" coords="1675,325,1879,419"/>
<area shape="poly" title=" " alt="" coords="1865,417,1892,429,1912,435,1930,436,1946,441,1961,454,1970,472,1976,494,1978,550,1971,615,1957,687,1952,686,1965,615,1972,549,1970,495,1965,474,1957,458,1944,445,1929,442,1911,440,1890,435,1863,422"/>
<area shape="rect" href="../../d8/d35/structthread__module_1_1hazard__pointer__manager_1_1HazardRecord.html" title="Per&#45;thread hazard pointer record." alt="" coords="1699,553,1929,633"/>
<area shape="poly" title=" " alt="" coords="1756,421,1743,470,1743,496,1748,520,1758,538,1754,541,1744,522,1737,496,1738,469,1751,419"/>
<area shape="poly" title=" " alt="" coords="1824,632,1834,686,1829,687,1819,633"/>
<area shape="poly" title=" " alt="" coords="1808,553,1794,456,1790,436,1795,435,1799,456,1813,552"/>
<area shape="rect" title=" " alt="" coords="1903,332,2075,412"/>
<area shape="poly" title=" " alt="" coords="1960,414,1857,541,1853,538,1955,411"/>
<area shape="rect" title=" " alt="" coords="2163,332,2334,412"/>
<area shape="poly" title=" " alt="" coords="2259,412,2261,440,2260,470,2251,499,2234,523,2211,537,2178,545,2097,548,2013,545,1949,548,1936,551,1935,546,1948,543,2013,540,2097,542,2178,539,2209,532,2231,519,2247,496,2254,469,2256,440,2254,413"/>
<area shape="rect" title=" " alt="" coords="2171,133,2327,199"/>
<area shape="poly" title=" " alt="" coords="2251,199,2251,316,2246,316,2246,199"/>
<area shape="rect" title=" " alt="" coords="2257,545,2440,640"/>
<area shape="poly" title=" " alt="" coords="2258,637,2196,660,2132,681,2096,687,2065,687,2036,690,2002,706,1999,701,2034,685,2065,682,2096,682,2131,676,2195,655,2256,632"/>
<area shape="rect" href="../../dd/dbf/structthread__module_1_1hazard__pointer__manager_1_1RetiredNode.html" title="Node in the retired list." alt="" coords="2358,312,2579,432"/>
<area shape="poly" title=" " alt="" coords="2439,434,2384,532,2380,530,2434,431"/>
<area shape="poly" title=" " alt="" coords="1960,1550,1872,1670,1823,1731,1769,1789,1674,1880,1581,1962,1578,1959,1671,1876,1765,1785,1819,1727,1868,1666,1956,1547"/>
<area shape="rect" title=" " alt="" coords="807,2529,949,2609"/>
<area shape="poly" title=" " alt="" coords="887,2608,904,2679,931,2756,982,2852,1039,2943,1035,2946,977,2855,926,2758,899,2680,882,2610"/>
<area shape="poly" title=" " alt="" coords="2111,1788,2029,1948,1899,2183,1821,2316,1735,2454,1645,2590,1551,2720,1492,2794,1428,2865,1304,2994,1301,2990,1424,2862,1488,2790,1547,2717,1640,2587,1731,2451,1816,2313,1894,2180,2024,1945,2106,1786"/>
<area shape="rect" title=" " alt="" coords="974,2529,1121,2609"/>
<area shape="poly" title=" " alt="" coords="1046,2609,1035,2743,1037,2793,1045,2844,1040,2845,1032,2794,1030,2743,1040,2608"/>
<area shape="rect" title=" " alt="" coords="1003,2018,1087,2083"/>
<area shape="poly" title=" " alt="" coords="1046,2084,1042,2219,1042,2395,1047,2512,1041,2512,1037,2395,1037,2219,1041,2084"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html">atomic_performance_metrics</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal atomic performance metrics.  <a href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d93/structthread__module_1_1adaptive__job__queue_1_1performance__metrics.html">performance_metrics</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performance metrics structure (non-atomic for returning)  <a href="../../d8/d93/structthread__module_1_1adaptive__job__queue_1_1performance__metrics.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a99ade5899f88831d716301436307624e" id="r_a99ade5899f88831d716301436307624e"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624e">queue_strategy</a> { <a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea8640c650d24d411eed108592294d9750">AUTO_DETECT</a>
, <a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624eaf3c4c243192b89e67b25ab06a21e41f1">FORCE_LEGACY</a>
, <a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624eafe210246000a180fd0d5f617009a7745">FORCE_LOCKFREE</a>
, <a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea90cff4f81e21a20801df4abe9cbf0cbe">ADAPTIVE</a>
 }</td></tr>
<tr class="memdesc:a99ade5899f88831d716301436307624e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue implementation strategy.  <a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624e">More...</a><br /></td></tr>
<tr class="separator:a99ade5899f88831d716301436307624e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a38f6e81a8e88a75ce18ab8b25999a39a" id="r_a38f6e81a8e88a75ce18ab8b25999a39a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a38f6e81a8e88a75ce18ab8b25999a39a">adaptive_job_queue</a> (<a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624e">queue_strategy</a> initial_strategy=<a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea8640c650d24d411eed108592294d9750">queue_strategy::AUTO_DETECT</a>)</td></tr>
<tr class="memdesc:a38f6e81a8e88a75ce18ab8b25999a39a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:a38f6e81a8e88a75ce18ab8b25999a39a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac42f107635666b252333b9db8e746b7" id="r_aac42f107635666b252333b9db8e746b7"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#aac42f107635666b252333b9db8e746b7">~adaptive_job_queue</a> ()</td></tr>
<tr class="memdesc:aac42f107635666b252333b9db8e746b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:aac42f107635666b252333b9db8e746b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0c35e20c335c6e244216402bf6ec8bc" id="r_ac0c35e20c335c6e244216402bf6ec8bc"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ac0c35e20c335c6e244216402bf6ec8bc">enqueue</a> (std::unique_ptr&lt; <a class="el" href="../../d8/d42/classthread__module_1_1job.html">job</a> &gt; &amp;&amp;value) -&gt; <a class="el" href="../../dd/da2/classthread__module_1_1result__void.html">result_void</a> override</td></tr>
<tr class="memdesc:ac0c35e20c335c6e244216402bf6ec8bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueues a new job into the queue.  <br /></td></tr>
<tr class="separator:ac0c35e20c335c6e244216402bf6ec8bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ab6ce07de32b07ba50c7075979ad82" id="r_a79ab6ce07de32b07ba50c7075979ad82"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a79ab6ce07de32b07ba50c7075979ad82">enqueue_batch</a> (std::vector&lt; std::unique_ptr&lt; <a class="el" href="../../d8/d42/classthread__module_1_1job.html">job</a> &gt; &gt; &amp;&amp;jobs) -&gt; <a class="el" href="../../dd/da2/classthread__module_1_1result__void.html">result_void</a> override</td></tr>
<tr class="memdesc:a79ab6ce07de32b07ba50c7075979ad82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueues a batch of jobs into the queue.  <br /></td></tr>
<tr class="separator:a79ab6ce07de32b07ba50c7075979ad82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fccc80e5ae38229e9170a0f09830008" id="r_a0fccc80e5ae38229e9170a0f09830008"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a0fccc80e5ae38229e9170a0f09830008">dequeue</a> () -&gt; <a class="el" href="../../d2/d93/classthread__module_1_1result.html">result</a>&lt; std::unique_ptr&lt; <a class="el" href="../../d8/d42/classthread__module_1_1job.html">job</a> &gt; &gt; override</td></tr>
<tr class="memdesc:a0fccc80e5ae38229e9170a0f09830008"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dequeues a job from the queue in FIFO order.  <br /></td></tr>
<tr class="separator:a0fccc80e5ae38229e9170a0f09830008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a050d5ffd7b23bd0826ffdf48479d81" id="r_a6a050d5ffd7b23bd0826ffdf48479d81"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a6a050d5ffd7b23bd0826ffdf48479d81">dequeue_batch</a> () -&gt; std::deque&lt; std::unique_ptr&lt; <a class="el" href="../../d8/d42/classthread__module_1_1job.html">job</a> &gt; &gt; override</td></tr>
<tr class="memdesc:a6a050d5ffd7b23bd0826ffdf48479d81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dequeues all remaining jobs from the queue without processing them.  <br /></td></tr>
<tr class="separator:a6a050d5ffd7b23bd0826ffdf48479d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a065b0415380028c12e84b84604603a20" id="r_a065b0415380028c12e84b84604603a20"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a065b0415380028c12e84b84604603a20">clear</a> () -&gt; void override</td></tr>
<tr class="memdesc:a065b0415380028c12e84b84604603a20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all jobs currently in the queue without processing them.  <br /></td></tr>
<tr class="separator:a065b0415380028c12e84b84604603a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5a6a321d31466e65cf5980126ec8309" id="r_af5a6a321d31466e65cf5980126ec8309"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#af5a6a321d31466e65cf5980126ec8309">empty</a> () const -&gt; bool</td></tr>
<tr class="separator:af5a6a321d31466e65cf5980126ec8309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a152c509ecb73f3a2810d1ab80bbc73af" id="r_a152c509ecb73f3a2810d1ab80bbc73af"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a152c509ecb73f3a2810d1ab80bbc73af">size</a> () const -&gt; std::size_t</td></tr>
<tr class="separator:a152c509ecb73f3a2810d1ab80bbc73af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab446375c6ffb9807a3c49747a51c7ac1" id="r_ab446375c6ffb9807a3c49747a51c7ac1"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ab446375c6ffb9807a3c49747a51c7ac1">to_string</a> () const -&gt; std::string override</td></tr>
<tr class="memdesc:ab446375c6ffb9807a3c49747a51c7ac1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string representation of this <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html" title="A thread-safe job queue for managing and dispatching work items.">job_queue</a>.  <br /></td></tr>
<tr class="separator:ab446375c6ffb9807a3c49747a51c7ac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec82094c945fe77daa6e89893cd111f" id="r_afec82094c945fe77daa6e89893cd111f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#afec82094c945fe77daa6e89893cd111f">evaluate_and_switch</a> () -&gt; void</td></tr>
<tr class="memdesc:afec82094c945fe77daa6e89893cd111f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force evaluation and potential switch of queue implementation.  <br /></td></tr>
<tr class="separator:afec82094c945fe77daa6e89893cd111f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadbcef3b1d1d3a1479d7f4a5c05e93e7" id="r_aadbcef3b1d1d3a1479d7f4a5c05e93e7"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#aadbcef3b1d1d3a1479d7f4a5c05e93e7">get_current_type</a> () const -&gt; std::string</td></tr>
<tr class="memdesc:aadbcef3b1d1d3a1479d7f4a5c05e93e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current queue type.  <br /></td></tr>
<tr class="separator:aadbcef3b1d1d3a1479d7f4a5c05e93e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99863b19e32e5d47636220b03de543bb" id="r_a99863b19e32e5d47636220b03de543bb"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99863b19e32e5d47636220b03de543bb">get_metrics</a> () const -&gt; <a class="el" href="../../d8/d93/structthread__module_1_1adaptive__job__queue_1_1performance__metrics.html">performance_metrics</a></td></tr>
<tr class="memdesc:a99863b19e32e5d47636220b03de543bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get performance metrics.  <br /></td></tr>
<tr class="separator:a99863b19e32e5d47636220b03de543bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classthread__module_1_1job__queue"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classthread__module_1_1job__queue')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html">thread_module::job_queue</a></td></tr>
<tr class="memitem:a8d3002b24a03a4cf43d416d60fe200fe inherit pub_methods_classthread__module_1_1job__queue" id="r_a8d3002b24a03a4cf43d416d60fe200fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a8d3002b24a03a4cf43d416d60fe200fe">job_queue</a> ()</td></tr>
<tr class="memdesc:a8d3002b24a03a4cf43d416d60fe200fe inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new, empty <code><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html" title="A thread-safe job queue for managing and dispatching work items.">job_queue</a></code>.  <br /></td></tr>
<tr class="separator:a8d3002b24a03a4cf43d416d60fe200fe inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb5059d44e3440d9baa19a70ccf6179 inherit pub_methods_classthread__module_1_1job__queue" id="r_a8cb5059d44e3440d9baa19a70ccf6179"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a8cb5059d44e3440d9baa19a70ccf6179">~job_queue</a> (void)</td></tr>
<tr class="memdesc:a8cb5059d44e3440d9baa19a70ccf6179 inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor. Cleans up resources used by the <code><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html" title="A thread-safe job queue for managing and dispatching work items.">job_queue</a></code>.  <br /></td></tr>
<tr class="separator:a8cb5059d44e3440d9baa19a70ccf6179 inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80c0ee832f3fbd837112b2b667bf5a7 inherit pub_methods_classthread__module_1_1job__queue" id="r_aa80c0ee832f3fbd837112b2b667bf5a7"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#aa80c0ee832f3fbd837112b2b667bf5a7">get_ptr</a> (void) -&gt; std::shared_ptr&lt; <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html">job_queue</a> &gt;</td></tr>
<tr class="memdesc:aa80c0ee832f3fbd837112b2b667bf5a7 inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains a <code>std::shared_ptr</code> that points to this queue instance.  <br /></td></tr>
<tr class="separator:aa80c0ee832f3fbd837112b2b667bf5a7 inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcf67868224f1c07285b6e0ce50b493f inherit pub_methods_classthread__module_1_1job__queue" id="r_adcf67868224f1c07285b6e0ce50b493f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#adcf67868224f1c07285b6e0ce50b493f">is_stopped</a> () const -&gt; bool</td></tr>
<tr class="memdesc:adcf67868224f1c07285b6e0ce50b493f inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the queue is in a "stopped" state.  <br /></td></tr>
<tr class="separator:adcf67868224f1c07285b6e0ce50b493f inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4899018b4a42fadf17d66faccac84d92 inherit pub_methods_classthread__module_1_1job__queue" id="r_a4899018b4a42fadf17d66faccac84d92"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a4899018b4a42fadf17d66faccac84d92">set_notify</a> (bool notify) -&gt; void</td></tr>
<tr class="memdesc:a4899018b4a42fadf17d66faccac84d92 inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the 'notify' flag for this queue.  <br /></td></tr>
<tr class="separator:a4899018b4a42fadf17d66faccac84d92 inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01a57bbafa000d3f8515784e1b9e67f5 inherit pub_methods_classthread__module_1_1job__queue" id="r_a01a57bbafa000d3f8515784e1b9e67f5"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a01a57bbafa000d3f8515784e1b9e67f5">empty</a> (void) const -&gt; bool</td></tr>
<tr class="memdesc:a01a57bbafa000d3f8515784e1b9e67f5 inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the queue is currently empty.  <br /></td></tr>
<tr class="separator:a01a57bbafa000d3f8515784e1b9e67f5 inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1afe112b5ce8f8247d243e7490f706 inherit pub_methods_classthread__module_1_1job__queue" id="r_a0f1afe112b5ce8f8247d243e7490f706"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a0f1afe112b5ce8f8247d243e7490f706">size</a> (void) const -&gt; std::size_t</td></tr>
<tr class="memdesc:a0f1afe112b5ce8f8247d243e7490f706 inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current number of jobs in the queue.  <br /></td></tr>
<tr class="separator:a0f1afe112b5ce8f8247d243e7490f706 inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d8368749da1f7444c8107d780ceefb inherit pub_methods_classthread__module_1_1job__queue" id="r_af8d8368749da1f7444c8107d780ceefb"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#af8d8368749da1f7444c8107d780ceefb">stop_waiting_dequeue</a> (void) -&gt; void</td></tr>
<tr class="memdesc:af8d8368749da1f7444c8107d780ceefb inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signals the queue to stop waiting for new jobs (e.g., during shutdown).  <br /></td></tr>
<tr class="separator:af8d8368749da1f7444c8107d780ceefb inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d3002b24a03a4cf43d416d60fe200fe inherit pub_methods_classthread__module_1_1job__queue" id="r_a8d3002b24a03a4cf43d416d60fe200fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a8d3002b24a03a4cf43d416d60fe200fe">job_queue</a> ()</td></tr>
<tr class="memdesc:a8d3002b24a03a4cf43d416d60fe200fe inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new, empty <code><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html" title="A thread-safe job queue for managing and dispatching work items.">job_queue</a></code>.  <br /></td></tr>
<tr class="separator:a8d3002b24a03a4cf43d416d60fe200fe inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac65ad47cc713a1a17c040fc3f83920c1 inherit pub_methods_classthread__module_1_1job__queue" id="r_ac65ad47cc713a1a17c040fc3f83920c1"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#ac65ad47cc713a1a17c040fc3f83920c1">~job_queue</a> (void)</td></tr>
<tr class="memdesc:ac65ad47cc713a1a17c040fc3f83920c1 inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor. Cleans up resources used by the <code><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html" title="A thread-safe job queue for managing and dispatching work items.">job_queue</a></code>.  <br /></td></tr>
<tr class="separator:ac65ad47cc713a1a17c040fc3f83920c1 inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80c0ee832f3fbd837112b2b667bf5a7 inherit pub_methods_classthread__module_1_1job__queue" id="r_aa80c0ee832f3fbd837112b2b667bf5a7"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#aa80c0ee832f3fbd837112b2b667bf5a7">get_ptr</a> (void) -&gt; std::shared_ptr&lt; <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html">job_queue</a> &gt;</td></tr>
<tr class="memdesc:aa80c0ee832f3fbd837112b2b667bf5a7 inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains a <code>std::shared_ptr</code> that points to this queue instance.  <br /></td></tr>
<tr class="separator:aa80c0ee832f3fbd837112b2b667bf5a7 inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcf67868224f1c07285b6e0ce50b493f inherit pub_methods_classthread__module_1_1job__queue" id="r_adcf67868224f1c07285b6e0ce50b493f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#adcf67868224f1c07285b6e0ce50b493f">is_stopped</a> () const -&gt; bool</td></tr>
<tr class="memdesc:adcf67868224f1c07285b6e0ce50b493f inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the queue is in a "stopped" state.  <br /></td></tr>
<tr class="separator:adcf67868224f1c07285b6e0ce50b493f inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4899018b4a42fadf17d66faccac84d92 inherit pub_methods_classthread__module_1_1job__queue" id="r_a4899018b4a42fadf17d66faccac84d92"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a4899018b4a42fadf17d66faccac84d92">set_notify</a> (bool notify) -&gt; void</td></tr>
<tr class="memdesc:a4899018b4a42fadf17d66faccac84d92 inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the 'notify' flag for this queue.  <br /></td></tr>
<tr class="separator:a4899018b4a42fadf17d66faccac84d92 inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01a57bbafa000d3f8515784e1b9e67f5 inherit pub_methods_classthread__module_1_1job__queue" id="r_a01a57bbafa000d3f8515784e1b9e67f5"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a01a57bbafa000d3f8515784e1b9e67f5">empty</a> (void) const -&gt; bool</td></tr>
<tr class="memdesc:a01a57bbafa000d3f8515784e1b9e67f5 inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the queue is currently empty.  <br /></td></tr>
<tr class="separator:a01a57bbafa000d3f8515784e1b9e67f5 inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1afe112b5ce8f8247d243e7490f706 inherit pub_methods_classthread__module_1_1job__queue" id="r_a0f1afe112b5ce8f8247d243e7490f706"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a0f1afe112b5ce8f8247d243e7490f706">size</a> (void) const -&gt; std::size_t</td></tr>
<tr class="memdesc:a0f1afe112b5ce8f8247d243e7490f706 inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current number of jobs in the queue.  <br /></td></tr>
<tr class="separator:a0f1afe112b5ce8f8247d243e7490f706 inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d8368749da1f7444c8107d780ceefb inherit pub_methods_classthread__module_1_1job__queue" id="r_af8d8368749da1f7444c8107d780ceefb"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#af8d8368749da1f7444c8107d780ceefb">stop_waiting_dequeue</a> (void) -&gt; void</td></tr>
<tr class="memdesc:af8d8368749da1f7444c8107d780ceefb inherit pub_methods_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signals the queue to stop waiting for new jobs (e.g., during shutdown).  <br /></td></tr>
<tr class="separator:af8d8368749da1f7444c8107d780ceefb inherit pub_methods_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a2736418d0b8f71823c83aa4a658851b1" id="r_a2736418d0b8f71823c83aa4a658851b1"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1">queue_type</a> { <a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66">LEGACY_MUTEX</a>
, <a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1af8c29e7a09fef5508e47661f44f3b56b">LOCKFREE_MPMC</a>
, <a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a3bf07fe8ac3883060b1558113ba248d4">HYBRID</a>
 }</td></tr>
<tr class="separator:a2736418d0b8f71823c83aa4a658851b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3d6a5da3fcf0b0b319f6d9b34b8caed7" id="r_a3d6a5da3fcf0b0b319f6d9b34b8caed7"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a3d6a5da3fcf0b0b319f6d9b34b8caed7">initialize_strategy</a> () -&gt; void</td></tr>
<tr class="separator:a3d6a5da3fcf0b0b319f6d9b34b8caed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4837d18086f86aa38878336e023f6c6" id="r_af4837d18086f86aa38878336e023f6c6"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#af4837d18086f86aa38878336e023f6c6">start_performance_monitor</a> () -&gt; void</td></tr>
<tr class="separator:af4837d18086f86aa38878336e023f6c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98c73f56316171964d2fa5344148b768" id="r_a98c73f56316171964d2fa5344148b768"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a98c73f56316171964d2fa5344148b768">stop_performance_monitor</a> () -&gt; void</td></tr>
<tr class="separator:a98c73f56316171964d2fa5344148b768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7876e5960468db35420247e2436fad1" id="r_ac7876e5960468db35420247e2436fad1"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ac7876e5960468db35420247e2436fad1">monitor_performance</a> () -&gt; void</td></tr>
<tr class="separator:ac7876e5960468db35420247e2436fad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9416cb1fd0d953a6b222e5d742694152" id="r_a9416cb1fd0d953a6b222e5d742694152"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a9416cb1fd0d953a6b222e5d742694152">should_switch_to_lockfree</a> () const -&gt; bool</td></tr>
<tr class="separator:a9416cb1fd0d953a6b222e5d742694152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e4fb6824f07716ff28c3511fa37348" id="r_a35e4fb6824f07716ff28c3511fa37348"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a35e4fb6824f07716ff28c3511fa37348">should_switch_to_legacy</a> () const -&gt; bool</td></tr>
<tr class="separator:a35e4fb6824f07716ff28c3511fa37348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a202eef417cbe2a681acc9c33ef8f5912" id="r_a202eef417cbe2a681acc9c33ef8f5912"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a202eef417cbe2a681acc9c33ef8f5912">migrate_to_lockfree</a> () -&gt; void</td></tr>
<tr class="separator:a202eef417cbe2a681acc9c33ef8f5912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92d12580743472a4c01c5c967d5a4efb" id="r_a92d12580743472a4c01c5c967d5a4efb"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a92d12580743472a4c01c5c967d5a4efb">migrate_to_legacy</a> () -&gt; void</td></tr>
<tr class="separator:a92d12580743472a4c01c5c967d5a4efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a085fa3a028925a953671a15c37cdab5f" id="r_a085fa3a028925a953671a15c37cdab5f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a085fa3a028925a953671a15c37cdab5f">update_metrics</a> (std::chrono::nanoseconds duration, bool had_contention=false) -&gt; void</td></tr>
<tr class="separator:a085fa3a028925a953671a15c37cdab5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae590e4560c853d15dd3780493f327554" id="r_ae590e4560c853d15dd3780493f327554"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ae590e4560c853d15dd3780493f327554">get_current_impl</a> () -&gt; <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html">job_queue</a> *</td></tr>
<tr class="separator:ae590e4560c853d15dd3780493f327554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28c063c9a03b3dd1aa19ff55c8d71881" id="r_a28c063c9a03b3dd1aa19ff55c8d71881"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a28c063c9a03b3dd1aa19ff55c8d71881">get_current_impl</a> () const -&gt; const <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html">job_queue</a> *</td></tr>
<tr class="separator:a28c063c9a03b3dd1aa19ff55c8d71881"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a95cfbfa46d97d5fd6fe36f317cdfe5cc" id="r_a95cfbfa46d97d5fd6fe36f317cdfe5cc"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html">job_queue</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a95cfbfa46d97d5fd6fe36f317cdfe5cc">legacy_queue_</a></td></tr>
<tr class="separator:a95cfbfa46d97d5fd6fe36f317cdfe5cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb9765e5d24e4120d3f208cf86c66ae" id="r_a0fb9765e5d24e4120d3f208cf86c66ae"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d1/de8/classthread__module_1_1lockfree__job__queue.html">lockfree_job_queue</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a0fb9765e5d24e4120d3f208cf86c66ae">mpmc_queue_</a></td></tr>
<tr class="separator:a0fb9765e5d24e4120d3f208cf86c66ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a495af42dec197fe1ddd44f21b0e5c824" id="r_a495af42dec197fe1ddd44f21b0e5c824"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1">queue_type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a></td></tr>
<tr class="separator:a495af42dec197fe1ddd44f21b0e5c824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad24e153f446d7bbb55962cafcfcd1dfe" id="r_ad24e153f446d7bbb55962cafcfcd1dfe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624e">queue_strategy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ad24e153f446d7bbb55962cafcfcd1dfe">strategy_</a></td></tr>
<tr class="separator:ad24e153f446d7bbb55962cafcfcd1dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5abfc8958db801d27b7c9c5f110c0408" id="r_a5abfc8958db801d27b7c9c5f110c0408"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html">atomic_performance_metrics</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a></td></tr>
<tr class="separator:a5abfc8958db801d27b7c9c5f110c0408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1d5840de0c4b19187d75b7132eb39ea" id="r_ac1d5840de0c4b19187d75b7132eb39ea"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; std::thread &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ac1d5840de0c4b19187d75b7132eb39ea">monitor_thread_</a></td></tr>
<tr class="separator:ac1d5840de0c4b19187d75b7132eb39ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97368c2ba67f93cf1c4ad9af65b4e701" id="r_a97368c2ba67f93cf1c4ad9af65b4e701"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a97368c2ba67f93cf1c4ad9af65b4e701">stop_monitor_</a> {false}</td></tr>
<tr class="separator:a97368c2ba67f93cf1c4ad9af65b4e701"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a88b07e2fe77e4639b33f64fc6e54f831" id="r_a88b07e2fe77e4639b33f64fc6e54f831"><td class="memItemLeft" align="right" valign="top">static constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a88b07e2fe77e4639b33f64fc6e54f831">EVALUATION_INTERVAL</a> = std::chrono::seconds(5)</td></tr>
<tr class="separator:a88b07e2fe77e4639b33f64fc6e54f831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc3bebbc72306f42351170ae4de52816" id="r_afc3bebbc72306f42351170ae4de52816"><td class="memItemLeft" align="right" valign="top">static constexpr double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#afc3bebbc72306f42351170ae4de52816">CONTENTION_THRESHOLD_HIGH</a> = 0.1</td></tr>
<tr class="separator:afc3bebbc72306f42351170ae4de52816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcff00428dd5ff3fbdc32dfb315a91df" id="r_adcff00428dd5ff3fbdc32dfb315a91df"><td class="memItemLeft" align="right" valign="top">static constexpr double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#adcff00428dd5ff3fbdc32dfb315a91df">CONTENTION_THRESHOLD_LOW</a> = 0.05</td></tr>
<tr class="separator:adcff00428dd5ff3fbdc32dfb315a91df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7db88a68dbd4e0e3050572ee8f8c3429" id="r_a7db88a68dbd4e0e3050572ee8f8c3429"><td class="memItemLeft" align="right" valign="top">static constexpr double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a7db88a68dbd4e0e3050572ee8f8c3429">LATENCY_THRESHOLD_HIGH_NS</a> = 1000.0</td></tr>
<tr class="separator:a7db88a68dbd4e0e3050572ee8f8c3429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f11f44eb1409a8f3fb7865dfe78ff9" id="r_a31f11f44eb1409a8f3fb7865dfe78ff9"><td class="memItemLeft" align="right" valign="top">static constexpr double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a31f11f44eb1409a8f3fb7865dfe78ff9">LATENCY_THRESHOLD_LOW_NS</a> = 500.0</td></tr>
<tr class="separator:a31f11f44eb1409a8f3fb7865dfe78ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb172cc674ca491ffd2c4cd13d6a0d66" id="r_abb172cc674ca491ffd2c4cd13d6a0d66"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#abb172cc674ca491ffd2c4cd13d6a0d66">MIN_OPERATIONS_FOR_SWITCH</a> = 1000</td></tr>
<tr class="separator:abb172cc674ca491ffd2c4cd13d6a0d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classthread__module_1_1job__queue"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classthread__module_1_1job__queue')"><img src="../../closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html">thread_module::job_queue</a></td></tr>
<tr class="memitem:a3d291457b201a92d3ed9b0761b00c133 inherit pro_attribs_classthread__module_1_1job__queue" id="r_a3d291457b201a92d3ed9b0761b00c133"><td class="memItemLeft" align="right" valign="top">std::atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a3d291457b201a92d3ed9b0761b00c133">notify_</a></td></tr>
<tr class="memdesc:a3d291457b201a92d3ed9b0761b00c133 inherit pro_attribs_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">If <code>true</code>, threads waiting for new jobs are notified when a new job is enqueued. If <code>false</code>, enqueuing does not automatically trigger a notification.  <br /></td></tr>
<tr class="separator:a3d291457b201a92d3ed9b0761b00c133 inherit pro_attribs_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a092523f285ed29d9e7db6b5f665c984b inherit pro_attribs_classthread__module_1_1job__queue" id="r_a092523f285ed29d9e7db6b5f665c984b"><td class="memItemLeft" align="right" valign="top">std::atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a092523f285ed29d9e7db6b5f665c984b">stop_</a></td></tr>
<tr class="memdesc:a092523f285ed29d9e7db6b5f665c984b inherit pro_attribs_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether the queue has been signaled to stop.  <br /></td></tr>
<tr class="separator:a092523f285ed29d9e7db6b5f665c984b inherit pro_attribs_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5655e208476810a1b4437bab0f57045c inherit pro_attribs_classthread__module_1_1job__queue" id="r_a5655e208476810a1b4437bab0f57045c"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a5655e208476810a1b4437bab0f57045c">mutex_</a></td></tr>
<tr class="memdesc:a5655e208476810a1b4437bab0f57045c inherit pro_attribs_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex to protect access to the underlying <code>queue_</code> container and related state.  <br /></td></tr>
<tr class="separator:a5655e208476810a1b4437bab0f57045c inherit pro_attribs_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a862c8cfa56448b7db38792ed3ff56e1c inherit pro_attribs_classthread__module_1_1job__queue" id="r_a862c8cfa56448b7db38792ed3ff56e1c"><td class="memItemLeft" align="right" valign="top">std::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a862c8cfa56448b7db38792ed3ff56e1c">condition_</a></td></tr>
<tr class="memdesc:a862c8cfa56448b7db38792ed3ff56e1c inherit pro_attribs_classthread__module_1_1job__queue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Condition variable used to signal worker threads.  <br /></td></tr>
<tr class="separator:a862c8cfa56448b7db38792ed3ff56e1c inherit pro_attribs_classthread__module_1_1job__queue"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Adaptive queue that switches between mutex-based and lock-free implementations. </p>
<p>This queue monitors performance metrics and automatically switches between a traditional mutex-based queue and a lock-free MPMC queue based on contention levels and performance characteristics. </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00052">52</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a99ade5899f88831d716301436307624e" name="a99ade5899f88831d716301436307624e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99ade5899f88831d716301436307624e">&#9670;&#160;</a></span>queue_strategy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624e">thread_module::adaptive_job_queue::queue_strategy</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue implementation strategy. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a99ade5899f88831d716301436307624ea8640c650d24d411eed108592294d9750" name="a99ade5899f88831d716301436307624ea8640c650d24d411eed108592294d9750"></a>AUTO_DETECT&#160;</td><td class="fielddoc"><p>Automatically detect best strategy. </p>
</td></tr>
<tr><td class="fieldname"><a id="a99ade5899f88831d716301436307624eaf3c4c243192b89e67b25ab06a21e41f1" name="a99ade5899f88831d716301436307624eaf3c4c243192b89e67b25ab06a21e41f1"></a>FORCE_LEGACY&#160;</td><td class="fielddoc"><p>Always use mutex-based queue. </p>
</td></tr>
<tr><td class="fieldname"><a id="a99ade5899f88831d716301436307624eafe210246000a180fd0d5f617009a7745" name="a99ade5899f88831d716301436307624eafe210246000a180fd0d5f617009a7745"></a>FORCE_LOCKFREE&#160;</td><td class="fielddoc"><p>Always use lock-free queue. </p>
</td></tr>
<tr><td class="fieldname"><a id="a99ade5899f88831d716301436307624ea90cff4f81e21a20801df4abe9cbf0cbe" name="a99ade5899f88831d716301436307624ea90cff4f81e21a20801df4abe9cbf0cbe"></a>ADAPTIVE&#160;</td><td class="fielddoc"><p>Switch based on runtime metrics. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00058">58</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   59</span>        {</div>
<div class="line"><span class="lineno">   60</span>            <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea8640c650d24d411eed108592294d9750">AUTO_DETECT</a>,      </div>
<div class="line"><span class="lineno">   61</span>            <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624eaf3c4c243192b89e67b25ab06a21e41f1">FORCE_LEGACY</a>,     </div>
<div class="line"><span class="lineno">   62</span>            <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624eafe210246000a180fd0d5f617009a7745">FORCE_LOCKFREE</a>,   </div>
<div class="line"><span class="lineno">   63</span>            <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea90cff4f81e21a20801df4abe9cbf0cbe">ADAPTIVE</a>          </div>
<div class="line"><span class="lineno">   64</span>        };</div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a99ade5899f88831d716301436307624ea8640c650d24d411eed108592294d9750"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea8640c650d24d411eed108592294d9750">thread_module::adaptive_job_queue::queue_strategy::AUTO_DETECT</a></div><div class="ttdeci">@ AUTO_DETECT</div><div class="ttdoc">Automatically detect best strategy.</div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a99ade5899f88831d716301436307624ea90cff4f81e21a20801df4abe9cbf0cbe"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea90cff4f81e21a20801df4abe9cbf0cbe">thread_module::adaptive_job_queue::queue_strategy::ADAPTIVE</a></div><div class="ttdeci">@ ADAPTIVE</div><div class="ttdoc">Switch based on runtime metrics.</div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a99ade5899f88831d716301436307624eaf3c4c243192b89e67b25ab06a21e41f1"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624eaf3c4c243192b89e67b25ab06a21e41f1">thread_module::adaptive_job_queue::queue_strategy::FORCE_LEGACY</a></div><div class="ttdeci">@ FORCE_LEGACY</div><div class="ttdoc">Always use mutex-based queue.</div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a99ade5899f88831d716301436307624eafe210246000a180fd0d5f617009a7745"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624eafe210246000a180fd0d5f617009a7745">thread_module::adaptive_job_queue::queue_strategy::FORCE_LOCKFREE</a></div><div class="ttdeci">@ FORCE_LOCKFREE</div><div class="ttdoc">Always use lock-free queue.</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2736418d0b8f71823c83aa4a658851b1" name="a2736418d0b8f71823c83aa4a658851b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2736418d0b8f71823c83aa4a658851b1">&#9670;&#160;</a></span>queue_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1">thread_module::adaptive_job_queue::queue_type</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66" name="a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66"></a>LEGACY_MUTEX&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2736418d0b8f71823c83aa4a658851b1af8c29e7a09fef5508e47661f44f3b56b" name="a2736418d0b8f71823c83aa4a658851b1af8c29e7a09fef5508e47661f44f3b56b"></a>LOCKFREE_MPMC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2736418d0b8f71823c83aa4a658851b1a3bf07fe8ac3883060b1558113ba248d4" name="a2736418d0b8f71823c83aa4a658851b1a3bf07fe8ac3883060b1558113ba248d4"></a>HYBRID&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00149">149</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  150</span>        {</div>
<div class="line"><span class="lineno">  151</span>            <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66">LEGACY_MUTEX</a>,</div>
<div class="line"><span class="lineno">  152</span>            <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1af8c29e7a09fef5508e47661f44f3b56b">LOCKFREE_MPMC</a>,</div>
<div class="line"><span class="lineno">  153</span>            <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a3bf07fe8ac3883060b1558113ba248d4">HYBRID</a></div>
<div class="line"><span class="lineno">  154</span>        };</div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66">thread_module::adaptive_job_queue::queue_type::LEGACY_MUTEX</a></div><div class="ttdeci">@ LEGACY_MUTEX</div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a2736418d0b8f71823c83aa4a658851b1a3bf07fe8ac3883060b1558113ba248d4"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a3bf07fe8ac3883060b1558113ba248d4">thread_module::adaptive_job_queue::queue_type::HYBRID</a></div><div class="ttdeci">@ HYBRID</div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a2736418d0b8f71823c83aa4a658851b1af8c29e7a09fef5508e47661f44f3b56b"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1af8c29e7a09fef5508e47661f44f3b56b">thread_module::adaptive_job_queue::queue_type::LOCKFREE_MPMC</a></div><div class="ttdeci">@ LOCKFREE_MPMC</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a38f6e81a8e88a75ce18ab8b25999a39a" name="a38f6e81a8e88a75ce18ab8b25999a39a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38f6e81a8e88a75ce18ab8b25999a39a">&#9670;&#160;</a></span>adaptive_job_queue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">thread_module::adaptive_job_queue::adaptive_job_queue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624e">queue_strategy</a>&#160;</td>
          <td class="paramname"><em>initial_strategy</em> = <code><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea8640c650d24d411eed108592294d9750">queue_strategy::AUTO_DETECT</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initial_strategy</td><td>Initial queue strategy </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00037">37</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span>        : <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a95cfbfa46d97d5fd6fe36f317cdfe5cc">legacy_queue_</a>(std::make_unique&lt;job_queue&gt;())</div>
<div class="line"><span class="lineno">   39</span>        , <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a0fb9765e5d24e4120d3f208cf86c66ae">mpmc_queue_</a>(std::make_unique&lt;lockfree_job_queue&gt;())</div>
<div class="line"><span class="lineno">   40</span>        , <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ad24e153f446d7bbb55962cafcfcd1dfe">strategy_</a>(initial_strategy)</div>
<div class="line"><span class="lineno">   41</span>    {</div>
<div class="line"><span class="lineno">   42</span>        <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a3d6a5da3fcf0b0b319f6d9b34b8caed7">initialize_strategy</a>();</div>
<div class="line"><span class="lineno">   43</span>        </div>
<div class="line"><span class="lineno">   44</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ad24e153f446d7bbb55962cafcfcd1dfe">strategy_</a> == <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea90cff4f81e21a20801df4abe9cbf0cbe">queue_strategy::ADAPTIVE</a>) {</div>
<div class="line"><span class="lineno">   45</span>            <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#af4837d18086f86aa38878336e023f6c6">start_performance_monitor</a>();</div>
<div class="line"><span class="lineno">   46</span>        }</div>
<div class="line"><span class="lineno">   47</span>        </div>
<div class="line"><span class="lineno">   48</span>        <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_function" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a38792acaf61b360570366af261fe6ec3">reset</a>();</div>
<div class="line"><span class="lineno">   49</span>    }</div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a0fb9765e5d24e4120d3f208cf86c66ae"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a0fb9765e5d24e4120d3f208cf86c66ae">thread_module::adaptive_job_queue::mpmc_queue_</a></div><div class="ttdeci">std::unique_ptr&lt; lockfree_job_queue &gt; mpmc_queue_</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00158">adaptive_job_queue.h:158</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a3d6a5da3fcf0b0b319f6d9b34b8caed7"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a3d6a5da3fcf0b0b319f6d9b34b8caed7">thread_module::adaptive_job_queue::initialize_strategy</a></div><div class="ttdeci">auto initialize_strategy() -&gt; void</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00221">adaptive_job_queue.cpp:221</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a5abfc8958db801d27b7c9c5f110c0408"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">thread_module::adaptive_job_queue::metrics_</a></div><div class="ttdeci">atomic_performance_metrics metrics_</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00165">adaptive_job_queue.h:165</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a95cfbfa46d97d5fd6fe36f317cdfe5cc"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a95cfbfa46d97d5fd6fe36f317cdfe5cc">thread_module::adaptive_job_queue::legacy_queue_</a></div><div class="ttdeci">std::unique_ptr&lt; job_queue &gt; legacy_queue_</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00157">adaptive_job_queue.h:157</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_ad24e153f446d7bbb55962cafcfcd1dfe"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ad24e153f446d7bbb55962cafcfcd1dfe">thread_module::adaptive_job_queue::strategy_</a></div><div class="ttdeci">queue_strategy strategy_</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00162">adaptive_job_queue.h:162</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_af4837d18086f86aa38878336e023f6c6"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#af4837d18086f86aa38878336e023f6c6">thread_module::adaptive_job_queue::start_performance_monitor</a></div><div class="ttdeci">auto start_performance_monitor() -&gt; void</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00250">adaptive_job_queue.cpp:250</a></div></div>
<div class="ttc" id="astructthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics_html_a38792acaf61b360570366af261fe6ec3"><div class="ttname"><a href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a38792acaf61b360570366af261fe6ec3">thread_module::adaptive_job_queue::atomic_performance_metrics::reset</a></div><div class="ttdeci">auto reset() -&gt; void</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00133">adaptive_job_queue.h:133</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_a38f6e81a8e88a75ce18ab8b25999a39a_cgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_a38f6e81a8e88a75ce18ab8b25999a39a_cgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_a38f6e81a8e88a75ce18ab8b25999a39a_cgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_a38f6e81a8e88a75ce18ab8b25999a39a_cgraph">
<area shape="rect" title="Constructor." alt="" coords="5,91,240,131"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a3d6a5da3fcf0b0b319f6d9b34b8caed7" title=" " alt="" coords="315,5,500,60"/>
<area shape="poly" title=" " alt="" coords="195,89,301,59,302,64,197,94"/>
<area shape="rect" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a38792acaf61b360570366af261fe6ec3" title=" " alt="" coords="288,84,527,139"/>
<area shape="poly" title=" " alt="" coords="240,109,274,109,274,114,240,114"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#af4837d18086f86aa38878336e023f6c6" title=" " alt="" coords="295,163,519,217"/>
<area shape="poly" title=" " alt="" coords="197,129,295,156,294,161,195,134"/>
<area shape="rect" href="../../d9/de0/namespacelog__module.html#a143b2d6375ecd7c12e04c0219ab3c6a5" title=" " alt="" coords="575,20,797,45"/>
<area shape="poly" title=" " alt="" coords="500,30,561,30,561,35,500,35"/>
<area shape="rect" href="../../d4/d78/classlog__module_1_1implementation_1_1logger.html#ae4e605560406763d5d8bb068c7449b99" title="Retrieves the singleton instance of the logger." alt="" coords="845,13,1056,53"/>
<area shape="poly" title=" " alt="" coords="798,30,831,30,831,35,798,35"/>
</map>
</div>

</div>
</div>
<a id="aac42f107635666b252333b9db8e746b7" name="aac42f107635666b252333b9db8e746b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac42f107635666b252333b9db8e746b7">&#9670;&#160;</a></span>~adaptive_job_queue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">thread_module::adaptive_job_queue::~adaptive_job_queue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00051">51</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   52</span>    {</div>
<div class="line"><span class="lineno">   53</span>        <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a98c73f56316171964d2fa5344148b768">stop_performance_monitor</a>();</div>
<div class="line"><span class="lineno">   54</span>    }</div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a98c73f56316171964d2fa5344148b768"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a98c73f56316171964d2fa5344148b768">thread_module::adaptive_job_queue::stop_performance_monitor</a></div><div class="ttdeci">auto stop_performance_monitor() -&gt; void</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00258">adaptive_job_queue.cpp:258</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_aac42f107635666b252333b9db8e746b7_cgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_aac42f107635666b252333b9db8e746b7_cgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_aac42f107635666b252333b9db8e746b7_cgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_aac42f107635666b252333b9db8e746b7_cgraph">
<area shape="rect" title="Destructor." alt="" coords="5,5,191,60"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a98c73f56316171964d2fa5344148b768" title=" " alt="" coords="239,5,461,60"/>
<area shape="poly" title=" " alt="" coords="191,30,225,30,225,35,191,35"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a065b0415380028c12e84b84604603a20" name="a065b0415380028c12e84b84604603a20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a065b0415380028c12e84b84604603a20">&#9670;&#160;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::clear </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; void</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes all jobs currently in the queue without processing them. </p>
<p>This operation is thread-safe and can be used to discard pending jobs, typically during shutdown or error recovery. It does not affect the <code>stop_</code> or <code>notify_</code> flags. </p>

<p>Reimplemented from <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a76f3ac914b567dc7bcc2971eacd4ae37">thread_module::job_queue</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00137">137</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  138</span>    {</div>
<div class="line"><span class="lineno">  139</span>        <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ae590e4560c853d15dd3780493f327554">get_current_impl</a>()-&gt;clear();</div>
<div class="line"><span class="lineno">  140</span>    }</div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_ae590e4560c853d15dd3780493f327554"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ae590e4560c853d15dd3780493f327554">thread_module::adaptive_job_queue::get_current_impl</a></div><div class="ttdeci">auto get_current_impl() -&gt; job_queue *</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00343">adaptive_job_queue.cpp:343</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0fccc80e5ae38229e9170a0f09830008" name="a0fccc80e5ae38229e9170a0f09830008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fccc80e5ae38229e9170a0f09830008">&#9670;&#160;</a></span>dequeue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::dequeue </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; <a class="el" href="../../d2/d93/classthread__module_1_1result.html">result</a>&lt;std::unique_ptr&lt;<a class="el" href="../../d8/d42/classthread__module_1_1job.html">job</a>&gt;&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dequeues a job from the queue in FIFO order. </p>
<dl class="section return"><dt>Returns</dt><dd>A result&lt;std::unique_ptr&lt;job&gt;&gt; containing either a valid job or an error object.</dd></dl>
<p>If the queue is empty, the caller may block depending on the internal concurrency model (unless <code>stop_</code> is set, in which case it may return immediately). </p>

<p>Reimplemented from <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#af289a45a46d0a7852e2c4bf3e1046005">thread_module::job_queue</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00097">97</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>    {</div>
<div class="line"><span class="lineno">   99</span>        <span class="keyword">auto</span> <a class="code hl_function" href="../../d9/de0/namespacelog__module.html#ae2cbd9332f2bd47f8293bef8a5d4371f">start</a> = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  100</span>        <span class="keywordtype">bool</span> had_contention = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  101</span>        </div>
<div class="line"><span class="lineno">  102</span>        result&lt;std::unique_ptr&lt;job&gt;&gt; result = error{<a class="code hl_enumvalue" href="../../de/d48/namespacethread__module.html#a215ffba45222b5527566469d33e4447ca64a7ed43d482ecf6f39282aaef0e4c02">error_code::queue_empty</a>, <span class="stringliteral">&quot;Queue is empty&quot;</span>};</div>
<div class="line"><span class="lineno">  103</span>        <span class="keyword">auto</span>* impl = <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ae590e4560c853d15dd3780493f327554">get_current_impl</a>();</div>
<div class="line"><span class="lineno">  104</span>        </div>
<div class="line"><span class="lineno">  105</span>        <span class="comment">// Try to detect contention for adaptive mode</span></div>
<div class="line"><span class="lineno">  106</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ad24e153f446d7bbb55962cafcfcd1dfe">strategy_</a> == <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea90cff4f81e21a20801df4abe9cbf0cbe">queue_strategy::ADAPTIVE</a> &amp;&amp; <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a> == <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66">queue_type::LEGACY_MUTEX</a>) {</div>
<div class="line"><span class="lineno">  107</span>            <span class="keyword">auto</span> before_lock = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  108</span>            result = impl-&gt;dequeue();</div>
<div class="line"><span class="lineno">  109</span>            <span class="keyword">auto</span> after_lock = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  110</span>            </div>
<div class="line"><span class="lineno">  111</span>            <span class="keyword">auto</span> lock_time = std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(after_lock - before_lock);</div>
<div class="line"><span class="lineno">  112</span>            <span class="keywordflow">if</span> (lock_time.count() &gt; 100) {</div>
<div class="line"><span class="lineno">  113</span>                had_contention = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  114</span>            }</div>
<div class="line"><span class="lineno">  115</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  116</span>            result = impl-&gt;dequeue();</div>
<div class="line"><span class="lineno">  117</span>        }</div>
<div class="line"><span class="lineno">  118</span>        </div>
<div class="line"><span class="lineno">  119</span>        <span class="keyword">auto</span> <a class="code hl_typedef" href="../../dc/da4/namespacemonitoring__module.html#a5288937db3fb31594060a3ae2c801b01">duration</a> = std::chrono::high_resolution_clock::now() - <a class="code hl_function" href="../../d9/de0/namespacelog__module.html#ae2cbd9332f2bd47f8293bef8a5d4371f">start</a>;</div>
<div class="line"><span class="lineno">  120</span>        <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a085fa3a028925a953671a15c37cdab5f">update_metrics</a>(std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(duration), had_contention);</div>
<div class="line"><span class="lineno">  121</span>        </div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  123</span>    }</div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a085fa3a028925a953671a15c37cdab5f"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a085fa3a028925a953671a15c37cdab5f">thread_module::adaptive_job_queue::update_metrics</a></div><div class="ttdeci">auto update_metrics(std::chrono::nanoseconds duration, bool had_contention=false) -&gt; void</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00333">adaptive_job_queue.cpp:333</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a495af42dec197fe1ddd44f21b0e5c824"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">thread_module::adaptive_job_queue::current_type_</a></div><div class="ttdeci">std::atomic&lt; queue_type &gt; current_type_</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00161">adaptive_job_queue.h:161</a></div></div>
<div class="ttc" id="anamespacelog__module_html_ae2cbd9332f2bd47f8293bef8a5d4371f"><div class="ttname"><a href="../../d9/de0/namespacelog__module.html#ae2cbd9332f2bd47f8293bef8a5d4371f">log_module::start</a></div><div class="ttdeci">auto start() -&gt; std::optional&lt; std::string &gt;</div><div class="ttdef"><b>Definition</b> <a href="../../d4/db6/logger_2core_2logger_8h_source.html#l00339">logger.h:339</a></div></div>
<div class="ttc" id="anamespacemonitoring__module_html_a5288937db3fb31594060a3ae2c801b01"><div class="ttname"><a href="../../dc/da4/namespacemonitoring__module.html#a5288937db3fb31594060a3ae2c801b01">monitoring_module::duration</a></div><div class="ttdeci">std::chrono::nanoseconds duration</div><div class="ttdoc">Duration type for time measurements.</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d01/monitoring__types_8h_source.html#l00079">monitoring_types.h:79</a></div></div>
<div class="ttc" id="anamespacethread__module_html_a215ffba45222b5527566469d33e4447ca64a7ed43d482ecf6f39282aaef0e4c02"><div class="ttname"><a href="../../de/d48/namespacethread__module.html#a215ffba45222b5527566469d33e4447ca64a7ed43d482ecf6f39282aaef0e4c02">thread_module::error_code::queue_empty</a></div><div class="ttdeci">@ queue_empty</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a050d5ffd7b23bd0826ffdf48479d81" name="a6a050d5ffd7b23bd0826ffdf48479d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a050d5ffd7b23bd0826ffdf48479d81">&#9670;&#160;</a></span>dequeue_batch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::dequeue_batch </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; std::deque&lt;std::unique_ptr&lt;<a class="el" href="../../d8/d42/classthread__module_1_1job.html">job</a>&gt;&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dequeues all remaining jobs from the queue without processing them. </p>
<dl class="section return"><dt>Returns</dt><dd>A <code>std::deque</code> of unique_ptr&lt;job&gt; containing all jobs that were in the queue at the time of the call.</dd></dl>
<p>Similar to <code><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a065b0415380028c12e84b84604603a20" title="Removes all jobs currently in the queue without processing them.">clear()</a></code>, but returns the dequeued jobs to the caller for potential inspection or manual processing. </p>

<p>Reimplemented from <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a874dc85e1da329be9005ca68e724332b">thread_module::job_queue</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00125">125</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  126</span>    {</div>
<div class="line"><span class="lineno">  127</span>        <span class="keyword">auto</span> <a class="code hl_function" href="../../d9/de0/namespacelog__module.html#ae2cbd9332f2bd47f8293bef8a5d4371f">start</a> = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  128</span>        </div>
<div class="line"><span class="lineno">  129</span>        <span class="keyword">auto</span> result = <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ae590e4560c853d15dd3780493f327554">get_current_impl</a>()-&gt;dequeue_batch();</div>
<div class="line"><span class="lineno">  130</span>        </div>
<div class="line"><span class="lineno">  131</span>        <span class="keyword">auto</span> <a class="code hl_typedef" href="../../dc/da4/namespacemonitoring__module.html#a5288937db3fb31594060a3ae2c801b01">duration</a> = std::chrono::high_resolution_clock::now() - <a class="code hl_function" href="../../d9/de0/namespacelog__module.html#ae2cbd9332f2bd47f8293bef8a5d4371f">start</a>;</div>
<div class="line"><span class="lineno">  132</span>        <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a085fa3a028925a953671a15c37cdab5f">update_metrics</a>(std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(duration));</div>
<div class="line"><span class="lineno">  133</span>        </div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  135</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af5a6a321d31466e65cf5980126ec8309" name="af5a6a321d31466e65cf5980126ec8309"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5a6a321d31466e65cf5980126ec8309">&#9670;&#160;</a></span>empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::empty </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; bool</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00142">142</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  143</span>    {</div>
<div class="line"><span class="lineno">  144</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ae590e4560c853d15dd3780493f327554">get_current_impl</a>()-&gt;empty();</div>
<div class="line"><span class="lineno">  145</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_af5a6a321d31466e65cf5980126ec8309_cgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_af5a6a321d31466e65cf5980126ec8309_cgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_af5a6a321d31466e65cf5980126ec8309_cgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_af5a6a321d31466e65cf5980126ec8309_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,191,45"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ae590e4560c853d15dd3780493f327554" title=" " alt="" coords="239,5,453,45"/>
<area shape="poly" title=" " alt="" coords="191,23,225,23,225,28,191,28"/>
</map>
</div>

</div>
</div>
<a id="ac0c35e20c335c6e244216402bf6ec8bc" name="ac0c35e20c335c6e244216402bf6ec8bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0c35e20c335c6e244216402bf6ec8bc">&#9670;&#160;</a></span>enqueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::enqueue </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="../../d8/d42/classthread__module_1_1job.html">job</a> &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td> -&gt; <a class="el" href="../../dd/da2/classthread__module_1_1result__void.html">result_void</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enqueues a new job into the queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>A unique pointer to the job being added. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="../../dd/da2/classthread__module_1_1result__void.html" title="Wrapper for void result.">result_void</a> indicating success or an error message.</dd></dl>
<p>This method is thread-safe. If <code>notify_</code> is set to <code>true</code>, a waiting thread (if any) will be notified upon successful enqueue. </p>

<p>Reimplemented from <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#af46f8b8f92a3a55465c043414d6b4748">thread_module::job_queue</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00056">56</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   57</span>    {</div>
<div class="line"><span class="lineno">   58</span>        <span class="keyword">auto</span> <a class="code hl_function" href="../../d9/de0/namespacelog__module.html#ae2cbd9332f2bd47f8293bef8a5d4371f">start</a> = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">   59</span>        <span class="keywordtype">bool</span> had_contention = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   60</span>        </div>
<div class="line"><span class="lineno">   61</span>        result_void result;</div>
<div class="line"><span class="lineno">   62</span>        <span class="keyword">auto</span>* impl = <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ae590e4560c853d15dd3780493f327554">get_current_impl</a>();</div>
<div class="line"><span class="lineno">   63</span>        </div>
<div class="line"><span class="lineno">   64</span>        <span class="comment">// Try to detect contention for adaptive mode</span></div>
<div class="line"><span class="lineno">   65</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ad24e153f446d7bbb55962cafcfcd1dfe">strategy_</a> == <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea90cff4f81e21a20801df4abe9cbf0cbe">queue_strategy::ADAPTIVE</a> &amp;&amp; <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a> == <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66">queue_type::LEGACY_MUTEX</a>) {</div>
<div class="line"><span class="lineno">   66</span>            <span class="comment">// Simple contention detection: if we can&#39;t get the lock immediately</span></div>
<div class="line"><span class="lineno">   67</span>            <span class="keyword">auto</span> before_lock = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">   68</span>            result = impl-&gt;enqueue(std::move(value));</div>
<div class="line"><span class="lineno">   69</span>            <span class="keyword">auto</span> after_lock = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">   70</span>            </div>
<div class="line"><span class="lineno">   71</span>            <span class="keyword">auto</span> lock_time = std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(after_lock - before_lock);</div>
<div class="line"><span class="lineno">   72</span>            <span class="keywordflow">if</span> (lock_time.count() &gt; 100) { <span class="comment">// More than 100ns to acquire lock</span></div>
<div class="line"><span class="lineno">   73</span>                had_contention = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   74</span>            }</div>
<div class="line"><span class="lineno">   75</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   76</span>            result = impl-&gt;enqueue(std::move(value));</div>
<div class="line"><span class="lineno">   77</span>        }</div>
<div class="line"><span class="lineno">   78</span>        </div>
<div class="line"><span class="lineno">   79</span>        <span class="keyword">auto</span> <a class="code hl_typedef" href="../../dc/da4/namespacemonitoring__module.html#a5288937db3fb31594060a3ae2c801b01">duration</a> = std::chrono::high_resolution_clock::now() - <a class="code hl_function" href="../../d9/de0/namespacelog__module.html#ae2cbd9332f2bd47f8293bef8a5d4371f">start</a>;</div>
<div class="line"><span class="lineno">   80</span>        <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a085fa3a028925a953671a15c37cdab5f">update_metrics</a>(std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(duration), had_contention);</div>
<div class="line"><span class="lineno">   81</span>        </div>
<div class="line"><span class="lineno">   82</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">   83</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a79ab6ce07de32b07ba50c7075979ad82" name="a79ab6ce07de32b07ba50c7075979ad82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79ab6ce07de32b07ba50c7075979ad82">&#9670;&#160;</a></span>enqueue_batch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::enqueue_batch </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::unique_ptr&lt; <a class="el" href="../../d8/d42/classthread__module_1_1job.html">job</a> &gt; &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>jobs</em></td><td>)</td>
          <td> -&gt; <a class="el" href="../../dd/da2/classthread__module_1_1result__void.html">result_void</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enqueues a batch of jobs into the queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jobs</td><td>A vector of unique pointers to the jobs being added. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="../../dd/da2/classthread__module_1_1result__void.html" title="Wrapper for void result.">result_void</a> indicating success or an error message. </dd></dl>

<p>Reimplemented from <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a4f7eea372ce86fdf2ff2aaf52c0008a9">thread_module::job_queue</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00085">85</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   86</span>    {</div>
<div class="line"><span class="lineno">   87</span>        <span class="keyword">auto</span> <a class="code hl_function" href="../../d9/de0/namespacelog__module.html#ae2cbd9332f2bd47f8293bef8a5d4371f">start</a> = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">   88</span>        </div>
<div class="line"><span class="lineno">   89</span>        <span class="keyword">auto</span> result = <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ae590e4560c853d15dd3780493f327554">get_current_impl</a>()-&gt;enqueue_batch(std::move(jobs));</div>
<div class="line"><span class="lineno">   90</span>        </div>
<div class="line"><span class="lineno">   91</span>        <span class="keyword">auto</span> <a class="code hl_typedef" href="../../dc/da4/namespacemonitoring__module.html#a5288937db3fb31594060a3ae2c801b01">duration</a> = std::chrono::high_resolution_clock::now() - <a class="code hl_function" href="../../d9/de0/namespacelog__module.html#ae2cbd9332f2bd47f8293bef8a5d4371f">start</a>;</div>
<div class="line"><span class="lineno">   92</span>        <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a085fa3a028925a953671a15c37cdab5f">update_metrics</a>(std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(duration));</div>
<div class="line"><span class="lineno">   93</span>        </div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">   95</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afec82094c945fe77daa6e89893cd111f" name="afec82094c945fe77daa6e89893cd111f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afec82094c945fe77daa6e89893cd111f">&#9670;&#160;</a></span>evaluate_and_switch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::evaluate_and_switch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; void</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force evaluation and potential switch of queue implementation. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00165">165</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  166</span>    {</div>
<div class="line"><span class="lineno">  167</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ad24e153f446d7bbb55962cafcfcd1dfe">strategy_</a> != <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea90cff4f81e21a20801df4abe9cbf0cbe">queue_strategy::ADAPTIVE</a>) {</div>
<div class="line"><span class="lineno">  168</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  169</span>        }</div>
<div class="line"><span class="lineno">  170</span>        </div>
<div class="line"><span class="lineno">  171</span>        <span class="keyword">auto</span> now = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno">  172</span>        <span class="keyword">auto</span> elapsed = now - <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a3d162225bf3244af497f11f2ec26d30f">last_evaluation</a>;</div>
<div class="line"><span class="lineno">  173</span>        </div>
<div class="line"><span class="lineno">  174</span>        <span class="keywordflow">if</span> (elapsed &lt; <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a88b07e2fe77e4639b33f64fc6e54f831">EVALUATION_INTERVAL</a>) {</div>
<div class="line"><span class="lineno">  175</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  176</span>        }</div>
<div class="line"><span class="lineno">  177</span>        </div>
<div class="line"><span class="lineno">  178</span>        <span class="comment">// Check if we have enough data</span></div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a1bf90c43a3d0c58d4dd79289bbeddd0b">operation_count</a>.load() &lt; <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#abb172cc674ca491ffd2c4cd13d6a0d66">MIN_OPERATIONS_FOR_SWITCH</a>) {</div>
<div class="line"><span class="lineno">  180</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  181</span>        }</div>
<div class="line"><span class="lineno">  182</span>        </div>
<div class="line"><span class="lineno">  183</span>        <span class="comment">// Evaluate current performance</span></div>
<div class="line"><span class="lineno">  184</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a> == <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66">queue_type::LEGACY_MUTEX</a> &amp;&amp; <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a9416cb1fd0d953a6b222e5d742694152">should_switch_to_lockfree</a>()) {</div>
<div class="line"><span class="lineno">  185</span>            <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a202eef417cbe2a681acc9c33ef8f5912">migrate_to_lockfree</a>();</div>
<div class="line"><span class="lineno">  186</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a> == <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1af8c29e7a09fef5508e47661f44f3b56b">queue_type::LOCKFREE_MPMC</a> &amp;&amp; <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a35e4fb6824f07716ff28c3511fa37348">should_switch_to_legacy</a>()) {</div>
<div class="line"><span class="lineno">  187</span>            <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a92d12580743472a4c01c5c967d5a4efb">migrate_to_legacy</a>();</div>
<div class="line"><span class="lineno">  188</span>        }</div>
<div class="line"><span class="lineno">  189</span>        </div>
<div class="line"><span class="lineno">  190</span>        <span class="comment">// Reset metrics for next evaluation period</span></div>
<div class="line"><span class="lineno">  191</span>        <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_function" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a38792acaf61b360570366af261fe6ec3">reset</a>();</div>
<div class="line"><span class="lineno">  192</span>    }</div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a202eef417cbe2a681acc9c33ef8f5912"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a202eef417cbe2a681acc9c33ef8f5912">thread_module::adaptive_job_queue::migrate_to_lockfree</a></div><div class="ttdeci">auto migrate_to_lockfree() -&gt; void</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00300">adaptive_job_queue.cpp:300</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a35e4fb6824f07716ff28c3511fa37348"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a35e4fb6824f07716ff28c3511fa37348">thread_module::adaptive_job_queue::should_switch_to_legacy</a></div><div class="ttdeci">auto should_switch_to_legacy() const -&gt; bool</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00288">adaptive_job_queue.cpp:288</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a88b07e2fe77e4639b33f64fc6e54f831"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a88b07e2fe77e4639b33f64fc6e54f831">thread_module::adaptive_job_queue::EVALUATION_INTERVAL</a></div><div class="ttdeci">static constexpr auto EVALUATION_INTERVAL</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00170">adaptive_job_queue.h:170</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a92d12580743472a4c01c5c967d5a4efb"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a92d12580743472a4c01c5c967d5a4efb">thread_module::adaptive_job_queue::migrate_to_legacy</a></div><div class="ttdeci">auto migrate_to_legacy() -&gt; void</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00318">adaptive_job_queue.cpp:318</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a9416cb1fd0d953a6b222e5d742694152"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a9416cb1fd0d953a6b222e5d742694152">thread_module::adaptive_job_queue::should_switch_to_lockfree</a></div><div class="ttdeci">auto should_switch_to_lockfree() const -&gt; bool</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00277">adaptive_job_queue.cpp:277</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_abb172cc674ca491ffd2c4cd13d6a0d66"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#abb172cc674ca491ffd2c4cd13d6a0d66">thread_module::adaptive_job_queue::MIN_OPERATIONS_FOR_SWITCH</a></div><div class="ttdeci">static constexpr size_t MIN_OPERATIONS_FOR_SWITCH</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00175">adaptive_job_queue.h:175</a></div></div>
<div class="ttc" id="astructthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics_html_a1bf90c43a3d0c58d4dd79289bbeddd0b"><div class="ttname"><a href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a1bf90c43a3d0c58d4dd79289bbeddd0b">thread_module::adaptive_job_queue::atomic_performance_metrics::operation_count</a></div><div class="ttdeci">std::atomic&lt; uint64_t &gt; operation_count</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00127">adaptive_job_queue.h:127</a></div></div>
<div class="ttc" id="astructthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics_html_a3d162225bf3244af497f11f2ec26d30f"><div class="ttname"><a href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a3d162225bf3244af497f11f2ec26d30f">thread_module::adaptive_job_queue::atomic_performance_metrics::last_evaluation</a></div><div class="ttdeci">std::chrono::steady_clock::time_point last_evaluation</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00131">adaptive_job_queue.h:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae590e4560c853d15dd3780493f327554" name="ae590e4560c853d15dd3780493f327554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae590e4560c853d15dd3780493f327554">&#9670;&#160;</a></span>get_current_impl() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::get_current_impl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html">job_queue</a>*</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00343">343</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  344</span>    {</div>
<div class="line"><span class="lineno">  345</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a>.load(std::memory_order_acquire)) {</div>
<div class="line"><span class="lineno">  346</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1af8c29e7a09fef5508e47661f44f3b56b">queue_type::LOCKFREE_MPMC</a>:</div>
<div class="line"><span class="lineno">  347</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a0fb9765e5d24e4120d3f208cf86c66ae">mpmc_queue_</a>.get();</div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66">queue_type::LEGACY_MUTEX</a>:</div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  350</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a95cfbfa46d97d5fd6fe36f317cdfe5cc">legacy_queue_</a>.get();</div>
<div class="line"><span class="lineno">  351</span>        }</div>
<div class="line"><span class="lineno">  352</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_ae590e4560c853d15dd3780493f327554_icgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_ae590e4560c853d15dd3780493f327554_icgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_ae590e4560c853d15dd3780493f327554_icgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_ae590e4560c853d15dd3780493f327554_icgraph">
<area shape="rect" title=" " alt="" coords="472,37,687,77"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#af5a6a321d31466e65cf5980126ec8309" title=" " alt="" coords="239,5,424,45"/>
<area shape="poly" title=" " alt="" coords="458,44,424,40,424,35,459,39"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a152c509ecb73f3a2810d1ab80bbc73af" title=" " alt="" coords="239,69,424,109"/>
<area shape="poly" title=" " alt="" coords="459,76,424,80,424,75,458,70"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ab446375c6ffb9807a3c49747a51c7ac1" title="Returns a string representation of this job_queue." alt="" coords="5,69,191,109"/>
<area shape="poly" title=" " alt="" coords="225,92,191,92,191,87,225,87"/>
</map>
</div>

</div>
</div>
<a id="a28c063c9a03b3dd1aa19ff55c8d71881" name="a28c063c9a03b3dd1aa19ff55c8d71881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28c063c9a03b3dd1aa19ff55c8d71881">&#9670;&#160;</a></span>get_current_impl() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::get_current_impl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; const <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html">job_queue</a>*</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00354">354</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  355</span>    {</div>
<div class="line"><span class="lineno">  356</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a>.load(std::memory_order_acquire)) {</div>
<div class="line"><span class="lineno">  357</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1af8c29e7a09fef5508e47661f44f3b56b">queue_type::LOCKFREE_MPMC</a>:</div>
<div class="line"><span class="lineno">  358</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a0fb9765e5d24e4120d3f208cf86c66ae">mpmc_queue_</a>.get();</div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66">queue_type::LEGACY_MUTEX</a>:</div>
<div class="line"><span class="lineno">  360</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  361</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a95cfbfa46d97d5fd6fe36f317cdfe5cc">legacy_queue_</a>.get();</div>
<div class="line"><span class="lineno">  362</span>        }</div>
<div class="line"><span class="lineno">  363</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aadbcef3b1d1d3a1479d7f4a5c05e93e7" name="aadbcef3b1d1d3a1479d7f4a5c05e93e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadbcef3b1d1d3a1479d7f4a5c05e93e7">&#9670;&#160;</a></span>get_current_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::get_current_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; std::string</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current queue type. </p>
<dl class="section return"><dt>Returns</dt><dd>Current queue implementation type </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00194">194</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  195</span>    {</div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a>.load(std::memory_order_relaxed)) {</div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66">queue_type::LEGACY_MUTEX</a>:</div>
<div class="line"><span class="lineno">  198</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;mutex_based&quot;</span>;</div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1af8c29e7a09fef5508e47661f44f3b56b">queue_type::LOCKFREE_MPMC</a>:</div>
<div class="line"><span class="lineno">  200</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;lock_free&quot;</span>;</div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a3bf07fe8ac3883060b1558113ba248d4">queue_type::HYBRID</a>:</div>
<div class="line"><span class="lineno">  202</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;hybrid&quot;</span>;</div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  204</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line"><span class="lineno">  205</span>        }</div>
<div class="line"><span class="lineno">  206</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_aadbcef3b1d1d3a1479d7f4a5c05e93e7_icgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_aadbcef3b1d1d3a1479d7f4a5c05e93e7_icgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_aadbcef3b1d1d3a1479d7f4a5c05e93e7_icgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_aadbcef3b1d1d3a1479d7f4a5c05e93e7_icgraph">
<area shape="rect" title="Get current queue type." alt="" coords="239,5,453,45"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ab446375c6ffb9807a3c49747a51c7ac1" title="Returns a string representation of this job_queue." alt="" coords="5,5,191,45"/>
<area shape="poly" title=" " alt="" coords="225,28,191,28,191,23,225,23"/>
</map>
</div>

</div>
</div>
<a id="a99863b19e32e5d47636220b03de543bb" name="a99863b19e32e5d47636220b03de543bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99863b19e32e5d47636220b03de543bb">&#9670;&#160;</a></span>get_metrics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::get_metrics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; <a class="el" href="../../d8/d93/structthread__module_1_1adaptive__job__queue_1_1performance__metrics.html">performance_metrics</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get performance metrics. </p>
<dl class="section return"><dt>Returns</dt><dd>Current performance metrics </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00208">208</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  209</span>    {</div>
<div class="line"><span class="lineno">  210</span>        performance_metrics <a class="code hl_namespace" href="../../d1/d82/namespacemetrics.html">metrics</a>;</div>
<div class="line"><span class="lineno">  211</span>        <a class="code hl_namespace" href="../../d1/d82/namespacemetrics.html">metrics</a>.operation_count = <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a1bf90c43a3d0c58d4dd79289bbeddd0b">operation_count</a>.load();</div>
<div class="line"><span class="lineno">  212</span>        <a class="code hl_namespace" href="../../d1/d82/namespacemetrics.html">metrics</a>.total_latency_ns = <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a9a3cdeafb8a219fd3cddbfa08ab7a50d">total_latency_ns</a>.load();</div>
<div class="line"><span class="lineno">  213</span>        <a class="code hl_namespace" href="../../d1/d82/namespacemetrics.html">metrics</a>.contention_count = <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#accd0fa108e64f3f5f28e9b98b0f1b136">contention_count</a>.load();</div>
<div class="line"><span class="lineno">  214</span>        <a class="code hl_namespace" href="../../d1/d82/namespacemetrics.html">metrics</a>.switch_count = <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a227162bae024d26e13a921707a349c05">switch_count</a>.load();</div>
<div class="line"><span class="lineno">  215</span>        <a class="code hl_namespace" href="../../d1/d82/namespacemetrics.html">metrics</a>.last_evaluation = <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a3d162225bf3244af497f11f2ec26d30f">last_evaluation</a>;</div>
<div class="line"><span class="lineno">  216</span>        <span class="keywordflow">return</span> <a class="code hl_namespace" href="../../d1/d82/namespacemetrics.html">metrics</a>;</div>
<div class="line"><span class="lineno">  217</span>    }</div>
<div class="ttc" id="anamespacemetrics_html"><div class="ttname"><a href="../../d1/d82/namespacemetrics.html">metrics</a></div><div class="ttdoc">Convenience functions for global metrics operations.</div></div>
<div class="ttc" id="astructthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics_html_a227162bae024d26e13a921707a349c05"><div class="ttname"><a href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a227162bae024d26e13a921707a349c05">thread_module::adaptive_job_queue::atomic_performance_metrics::switch_count</a></div><div class="ttdeci">std::atomic&lt; uint64_t &gt; switch_count</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00130">adaptive_job_queue.h:130</a></div></div>
<div class="ttc" id="astructthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics_html_a9a3cdeafb8a219fd3cddbfa08ab7a50d"><div class="ttname"><a href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a9a3cdeafb8a219fd3cddbfa08ab7a50d">thread_module::adaptive_job_queue::atomic_performance_metrics::total_latency_ns</a></div><div class="ttdeci">std::atomic&lt; uint64_t &gt; total_latency_ns</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00128">adaptive_job_queue.h:128</a></div></div>
<div class="ttc" id="astructthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics_html_accd0fa108e64f3f5f28e9b98b0f1b136"><div class="ttname"><a href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#accd0fa108e64f3f5f28e9b98b0f1b136">thread_module::adaptive_job_queue::atomic_performance_metrics::contention_count</a></div><div class="ttdeci">std::atomic&lt; uint64_t &gt; contention_count</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00129">adaptive_job_queue.h:129</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_a99863b19e32e5d47636220b03de543bb_icgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_a99863b19e32e5d47636220b03de543bb_icgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_a99863b19e32e5d47636220b03de543bb_icgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_a99863b19e32e5d47636220b03de543bb_icgraph">
<area shape="rect" title="Get performance metrics." alt="" coords="239,5,424,45"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ab446375c6ffb9807a3c49747a51c7ac1" title="Returns a string representation of this job_queue." alt="" coords="5,5,191,45"/>
<area shape="poly" title=" " alt="" coords="225,28,191,28,191,23,225,23"/>
</map>
</div>

</div>
</div>
<a id="a3d6a5da3fcf0b0b319f6d9b34b8caed7" name="a3d6a5da3fcf0b0b319f6d9b34b8caed7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d6a5da3fcf0b0b319f6d9b34b8caed7">&#9670;&#160;</a></span>initialize_strategy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::initialize_strategy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; void</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00221">221</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  222</span>    {</div>
<div class="line"><span class="lineno">  223</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ad24e153f446d7bbb55962cafcfcd1dfe">strategy_</a>) {</div>
<div class="line"><span class="lineno">  224</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624eaf3c4c243192b89e67b25ab06a21e41f1">queue_strategy::FORCE_LEGACY</a>:</div>
<div class="line"><span class="lineno">  225</span>            <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a> = <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66">queue_type::LEGACY_MUTEX</a>;</div>
<div class="line"><span class="lineno">  226</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  227</span>            </div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624eafe210246000a180fd0d5f617009a7745">queue_strategy::FORCE_LOCKFREE</a>:</div>
<div class="line"><span class="lineno">  229</span>            <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a> = <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1af8c29e7a09fef5508e47661f44f3b56b">queue_type::LOCKFREE_MPMC</a>;</div>
<div class="line"><span class="lineno">  230</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  231</span>            </div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea8640c650d24d411eed108592294d9750">queue_strategy::AUTO_DETECT</a>:</div>
<div class="line"><span class="lineno">  233</span>            <span class="comment">// Use lock-free for systems with 4+ cores</span></div>
<div class="line"><span class="lineno">  234</span>            <span class="keywordflow">if</span> (std::thread::hardware_concurrency() &gt;= 4) {</div>
<div class="line"><span class="lineno">  235</span>                <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a> = <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1af8c29e7a09fef5508e47661f44f3b56b">queue_type::LOCKFREE_MPMC</a>;</div>
<div class="line"><span class="lineno">  236</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  237</span>                <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a> = <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66">queue_type::LEGACY_MUTEX</a>;</div>
<div class="line"><span class="lineno">  238</span>            }</div>
<div class="line"><span class="lineno">  239</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  240</span>            </div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624ea90cff4f81e21a20801df4abe9cbf0cbe">queue_strategy::ADAPTIVE</a>:</div>
<div class="line"><span class="lineno">  242</span>            <span class="comment">// Start with legacy and let it adapt</span></div>
<div class="line"><span class="lineno">  243</span>            <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a> = <a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66">queue_type::LEGACY_MUTEX</a>;</div>
<div class="line"><span class="lineno">  244</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  245</span>        }</div>
<div class="line"><span class="lineno">  246</span>        </div>
<div class="line"><span class="lineno">  247</span>        <a class="code hl_function" href="../../d9/de0/namespacelog__module.html#a143b2d6375ecd7c12e04c0219ab3c6a5">log_module::write_information</a>(<span class="stringliteral">&quot;Adaptive queue initialized with strategy: %s&quot;</span>, <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#aadbcef3b1d1d3a1479d7f4a5c05e93e7">get_current_type</a>().c_str());</div>
<div class="line"><span class="lineno">  248</span>    }</div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_aadbcef3b1d1d3a1479d7f4a5c05e93e7"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#aadbcef3b1d1d3a1479d7f4a5c05e93e7">thread_module::adaptive_job_queue::get_current_type</a></div><div class="ttdeci">auto get_current_type() const -&gt; std::string</div><div class="ttdoc">Get current queue type.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00194">adaptive_job_queue.cpp:194</a></div></div>
<div class="ttc" id="anamespacelog__module_html_a143b2d6375ecd7c12e04c0219ab3c6a5"><div class="ttname"><a href="../../d9/de0/namespacelog__module.html#a143b2d6375ecd7c12e04c0219ab3c6a5">log_module::write_information</a></div><div class="ttdeci">auto write_information(const char *formats, const Args &amp;... args) -&gt; void</div><div class="ttdef"><b>Definition</b> <a href="../../d4/db6/logger_2core_2logger_8h_source.html#l00170">logger.h:170</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_a3d6a5da3fcf0b0b319f6d9b34b8caed7_cgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_a3d6a5da3fcf0b0b319f6d9b34b8caed7_cgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_a3d6a5da3fcf0b0b319f6d9b34b8caed7_cgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_a3d6a5da3fcf0b0b319f6d9b34b8caed7_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,191,60"/>
<area shape="rect" href="../../d9/de0/namespacelog__module.html#a143b2d6375ecd7c12e04c0219ab3c6a5" title=" " alt="" coords="239,20,461,45"/>
<area shape="poly" title=" " alt="" coords="191,30,225,30,225,35,191,35"/>
<area shape="rect" href="../../d4/d78/classlog__module_1_1implementation_1_1logger.html#ae4e605560406763d5d8bb068c7449b99" title="Retrieves the singleton instance of the logger." alt="" coords="509,13,720,53"/>
<area shape="poly" title=" " alt="" coords="462,30,495,30,495,35,462,35"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_a3d6a5da3fcf0b0b319f6d9b34b8caed7_icgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_a3d6a5da3fcf0b0b319f6d9b34b8caed7_icgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_a3d6a5da3fcf0b0b319f6d9b34b8caed7_icgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_a3d6a5da3fcf0b0b319f6d9b34b8caed7_icgraph">
<area shape="rect" title=" " alt="" coords="288,5,473,60"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a38f6e81a8e88a75ce18ab8b25999a39a" title="Constructor." alt="" coords="5,13,240,53"/>
<area shape="poly" title=" " alt="" coords="274,35,240,35,240,30,274,30"/>
</map>
</div>

</div>
</div>
<a id="a92d12580743472a4c01c5c967d5a4efb" name="a92d12580743472a4c01c5c967d5a4efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92d12580743472a4c01c5c967d5a4efb">&#9670;&#160;</a></span>migrate_to_legacy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::migrate_to_legacy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; void</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00318">318</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  319</span>    {</div>
<div class="line"><span class="lineno">  320</span>        <a class="code hl_function" href="../../d9/de0/namespacelog__module.html#a143b2d6375ecd7c12e04c0219ab3c6a5">log_module::write_information</a>(<span class="stringliteral">&quot;Migrating from lock-free to mutex-based queue&quot;</span>);</div>
<div class="line"><span class="lineno">  321</span>        </div>
<div class="line"><span class="lineno">  322</span>        <span class="comment">// Drain lock-free queue into legacy queue</span></div>
<div class="line"><span class="lineno">  323</span>        <span class="keyword">auto</span> jobs = <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a0fb9765e5d24e4120d3f208cf86c66ae">mpmc_queue_</a>-&gt;dequeue_batch();</div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; job : jobs) {</div>
<div class="line"><span class="lineno">  325</span>            <span class="keyword">auto</span> enqueue_result = <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a95cfbfa46d97d5fd6fe36f317cdfe5cc">legacy_queue_</a>-&gt;enqueue(std::move(job));</div>
<div class="line"><span class="lineno">  326</span>            (void)enqueue_result; <span class="comment">// Ignore result</span></div>
<div class="line"><span class="lineno">  327</span>        }</div>
<div class="line"><span class="lineno">  328</span>        </div>
<div class="line"><span class="lineno">  329</span>        <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a>.store(<a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1a36f12c61992acaef9cab60d7d3587e66">queue_type::LEGACY_MUTEX</a>, std::memory_order_release);</div>
<div class="line"><span class="lineno">  330</span>        <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a227162bae024d26e13a921707a349c05">switch_count</a>.fetch_add(1, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">  331</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_a92d12580743472a4c01c5c967d5a4efb_cgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_a92d12580743472a4c01c5c967d5a4efb_cgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_a92d12580743472a4c01c5c967d5a4efb_cgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_a92d12580743472a4c01c5c967d5a4efb_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,191,60"/>
<area shape="rect" href="../../d9/de0/namespacelog__module.html#a143b2d6375ecd7c12e04c0219ab3c6a5" title=" " alt="" coords="239,20,461,45"/>
<area shape="poly" title=" " alt="" coords="191,30,225,30,225,35,191,35"/>
<area shape="rect" href="../../d4/d78/classlog__module_1_1implementation_1_1logger.html#ae4e605560406763d5d8bb068c7449b99" title="Retrieves the singleton instance of the logger." alt="" coords="509,13,720,53"/>
<area shape="poly" title=" " alt="" coords="462,30,495,30,495,35,462,35"/>
</map>
</div>

</div>
</div>
<a id="a202eef417cbe2a681acc9c33ef8f5912" name="a202eef417cbe2a681acc9c33ef8f5912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a202eef417cbe2a681acc9c33ef8f5912">&#9670;&#160;</a></span>migrate_to_lockfree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::migrate_to_lockfree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; void</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00300">300</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  301</span>    {</div>
<div class="line"><span class="lineno">  302</span>        <a class="code hl_function" href="../../d9/de0/namespacelog__module.html#a143b2d6375ecd7c12e04c0219ab3c6a5">log_module::write_information</a>(<span class="stringliteral">&quot;Migrating from mutex-based to lock-free queue&quot;</span>);</div>
<div class="line"><span class="lineno">  303</span>        </div>
<div class="line"><span class="lineno">  304</span>        <span class="comment">// Drain legacy queue into lock-free queue</span></div>
<div class="line"><span class="lineno">  305</span>        <span class="keywordflow">while</span> (<span class="keyword">auto</span> job_result = <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a95cfbfa46d97d5fd6fe36f317cdfe5cc">legacy_queue_</a>-&gt;dequeue()) {</div>
<div class="line"><span class="lineno">  306</span>            <span class="keywordflow">if</span> (job_result.has_value()) {</div>
<div class="line"><span class="lineno">  307</span>                <span class="keyword">auto</span> enqueue_result = <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a0fb9765e5d24e4120d3f208cf86c66ae">mpmc_queue_</a>-&gt;enqueue(std::move(job_result.value()));</div>
<div class="line"><span class="lineno">  308</span>                (void)enqueue_result; <span class="comment">// Ignore result</span></div>
<div class="line"><span class="lineno">  309</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  310</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  311</span>            }</div>
<div class="line"><span class="lineno">  312</span>        }</div>
<div class="line"><span class="lineno">  313</span>        </div>
<div class="line"><span class="lineno">  314</span>        <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a495af42dec197fe1ddd44f21b0e5c824">current_type_</a>.store(<a class="code hl_enumvalue" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1af8c29e7a09fef5508e47661f44f3b56b">queue_type::LOCKFREE_MPMC</a>, std::memory_order_release);</div>
<div class="line"><span class="lineno">  315</span>        <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a227162bae024d26e13a921707a349c05">switch_count</a>.fetch_add(1, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">  316</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_a202eef417cbe2a681acc9c33ef8f5912_cgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_a202eef417cbe2a681acc9c33ef8f5912_cgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_a202eef417cbe2a681acc9c33ef8f5912_cgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_a202eef417cbe2a681acc9c33ef8f5912_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,191,60"/>
<area shape="rect" href="../../d9/de0/namespacelog__module.html#a143b2d6375ecd7c12e04c0219ab3c6a5" title=" " alt="" coords="239,20,461,45"/>
<area shape="poly" title=" " alt="" coords="191,30,225,30,225,35,191,35"/>
<area shape="rect" href="../../d4/d78/classlog__module_1_1implementation_1_1logger.html#ae4e605560406763d5d8bb068c7449b99" title="Retrieves the singleton instance of the logger." alt="" coords="509,13,720,53"/>
<area shape="poly" title=" " alt="" coords="462,30,495,30,495,35,462,35"/>
</map>
</div>

</div>
</div>
<a id="ac7876e5960468db35420247e2436fad1" name="ac7876e5960468db35420247e2436fad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7876e5960468db35420247e2436fad1">&#9670;&#160;</a></span>monitor_performance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::monitor_performance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; void</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00266">266</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  267</span>    {</div>
<div class="line"><span class="lineno">  268</span>        <span class="keywordflow">while</span> (!<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a97368c2ba67f93cf1c4ad9af65b4e701">stop_monitor_</a>.load(std::memory_order_relaxed)) {</div>
<div class="line"><span class="lineno">  269</span>            std::this_thread::sleep_for(<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a88b07e2fe77e4639b33f64fc6e54f831">EVALUATION_INTERVAL</a>);</div>
<div class="line"><span class="lineno">  270</span>            </div>
<div class="line"><span class="lineno">  271</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a97368c2ba67f93cf1c4ad9af65b4e701">stop_monitor_</a>.load(std::memory_order_relaxed)) {</div>
<div class="line"><span class="lineno">  272</span>                <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#afec82094c945fe77daa6e89893cd111f">evaluate_and_switch</a>();</div>
<div class="line"><span class="lineno">  273</span>            }</div>
<div class="line"><span class="lineno">  274</span>        }</div>
<div class="line"><span class="lineno">  275</span>    }</div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a97368c2ba67f93cf1c4ad9af65b4e701"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a97368c2ba67f93cf1c4ad9af65b4e701">thread_module::adaptive_job_queue::stop_monitor_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; stop_monitor_</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00167">adaptive_job_queue.h:167</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_afec82094c945fe77daa6e89893cd111f"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#afec82094c945fe77daa6e89893cd111f">thread_module::adaptive_job_queue::evaluate_and_switch</a></div><div class="ttdeci">auto evaluate_and_switch() -&gt; void</div><div class="ttdoc">Force evaluation and potential switch of queue implementation.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00165">adaptive_job_queue.cpp:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a35e4fb6824f07716ff28c3511fa37348" name="a35e4fb6824f07716ff28c3511fa37348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35e4fb6824f07716ff28c3511fa37348">&#9670;&#160;</a></span>should_switch_to_legacy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::should_switch_to_legacy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; bool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00288">288</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  289</span>    {</div>
<div class="line"><span class="lineno">  290</span>        <span class="keyword">auto</span> ops = <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a1bf90c43a3d0c58d4dd79289bbeddd0b">operation_count</a>.load(std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">if</span> (ops == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  292</span>        </div>
<div class="line"><span class="lineno">  293</span>        <span class="keyword">auto</span> avg_latency = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a9a3cdeafb8a219fd3cddbfa08ab7a50d">total_latency_ns</a>.load(std::memory_order_relaxed)) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(ops);</div>
<div class="line"><span class="lineno">  294</span>        <span class="keyword">auto</span> contention_ratio = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#accd0fa108e64f3f5f28e9b98b0f1b136">contention_count</a>.load(std::memory_order_relaxed)) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(ops);</div>
<div class="line"><span class="lineno">  295</span>        </div>
<div class="line"><span class="lineno">  296</span>        <span class="comment">// Switch back if contention is low and lock-free overhead isn&#39;t worth it</span></div>
<div class="line"><span class="lineno">  297</span>        <span class="keywordflow">return</span> (contention_ratio &lt; CONTENTION_THRESHOLD_LOW &amp;&amp; avg_latency &gt; <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a31f11f44eb1409a8f3fb7865dfe78ff9">LATENCY_THRESHOLD_LOW_NS</a> * 2);</div>
<div class="line"><span class="lineno">  298</span>    }</div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a31f11f44eb1409a8f3fb7865dfe78ff9"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a31f11f44eb1409a8f3fb7865dfe78ff9">thread_module::adaptive_job_queue::LATENCY_THRESHOLD_LOW_NS</a></div><div class="ttdeci">static constexpr double LATENCY_THRESHOLD_LOW_NS</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00174">adaptive_job_queue.h:174</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9416cb1fd0d953a6b222e5d742694152" name="a9416cb1fd0d953a6b222e5d742694152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9416cb1fd0d953a6b222e5d742694152">&#9670;&#160;</a></span>should_switch_to_lockfree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::should_switch_to_lockfree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; bool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00277">277</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  278</span>    {</div>
<div class="line"><span class="lineno">  279</span>        <span class="keyword">auto</span> ops = <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a1bf90c43a3d0c58d4dd79289bbeddd0b">operation_count</a>.load(std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">if</span> (ops == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  281</span>        </div>
<div class="line"><span class="lineno">  282</span>        <span class="keyword">auto</span> avg_latency = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a9a3cdeafb8a219fd3cddbfa08ab7a50d">total_latency_ns</a>.load(std::memory_order_relaxed)) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(ops);</div>
<div class="line"><span class="lineno">  283</span>        <span class="keyword">auto</span> contention_ratio = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#accd0fa108e64f3f5f28e9b98b0f1b136">contention_count</a>.load(std::memory_order_relaxed)) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(ops);</div>
<div class="line"><span class="lineno">  284</span>        </div>
<div class="line"><span class="lineno">  285</span>        <span class="keywordflow">return</span> (contention_ratio &gt; <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#afc3bebbc72306f42351170ae4de52816">CONTENTION_THRESHOLD_HIGH</a> &amp;&amp; avg_latency &gt; <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a7db88a68dbd4e0e3050572ee8f8c3429">LATENCY_THRESHOLD_HIGH_NS</a>);</div>
<div class="line"><span class="lineno">  286</span>    }</div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a7db88a68dbd4e0e3050572ee8f8c3429"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a7db88a68dbd4e0e3050572ee8f8c3429">thread_module::adaptive_job_queue::LATENCY_THRESHOLD_HIGH_NS</a></div><div class="ttdeci">static constexpr double LATENCY_THRESHOLD_HIGH_NS</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00173">adaptive_job_queue.h:173</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_afc3bebbc72306f42351170ae4de52816"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#afc3bebbc72306f42351170ae4de52816">thread_module::adaptive_job_queue::CONTENTION_THRESHOLD_HIGH</a></div><div class="ttdeci">static constexpr double CONTENTION_THRESHOLD_HIGH</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00171">adaptive_job_queue.h:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a152c509ecb73f3a2810d1ab80bbc73af" name="a152c509ecb73f3a2810d1ab80bbc73af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a152c509ecb73f3a2810d1ab80bbc73af">&#9670;&#160;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::size </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; std::size_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00147">147</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  148</span>    {</div>
<div class="line"><span class="lineno">  149</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ae590e4560c853d15dd3780493f327554">get_current_impl</a>()-&gt;size();</div>
<div class="line"><span class="lineno">  150</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_a152c509ecb73f3a2810d1ab80bbc73af_cgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_a152c509ecb73f3a2810d1ab80bbc73af_cgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_a152c509ecb73f3a2810d1ab80bbc73af_cgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_a152c509ecb73f3a2810d1ab80bbc73af_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,191,45"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ae590e4560c853d15dd3780493f327554" title=" " alt="" coords="239,5,453,45"/>
<area shape="poly" title=" " alt="" coords="191,23,225,23,225,28,191,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_a152c509ecb73f3a2810d1ab80bbc73af_icgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_a152c509ecb73f3a2810d1ab80bbc73af_icgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_a152c509ecb73f3a2810d1ab80bbc73af_icgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_a152c509ecb73f3a2810d1ab80bbc73af_icgraph">
<area shape="rect" title=" " alt="" coords="239,5,424,45"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ab446375c6ffb9807a3c49747a51c7ac1" title="Returns a string representation of this job_queue." alt="" coords="5,5,191,45"/>
<area shape="poly" title=" " alt="" coords="225,28,191,28,191,23,225,23"/>
</map>
</div>

</div>
</div>
<a id="af4837d18086f86aa38878336e023f6c6" name="af4837d18086f86aa38878336e023f6c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4837d18086f86aa38878336e023f6c6">&#9670;&#160;</a></span>start_performance_monitor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::start_performance_monitor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; void</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00250">250</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  251</span>    {</div>
<div class="line"><span class="lineno">  252</span>        <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a97368c2ba67f93cf1c4ad9af65b4e701">stop_monitor_</a>.store(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  253</span>        <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ac1d5840de0c4b19187d75b7132eb39ea">monitor_thread_</a> = std::make_unique&lt;std::thread&gt;([<span class="keyword">this</span>]() {</div>
<div class="line"><span class="lineno">  254</span>            <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ac7876e5960468db35420247e2436fad1">monitor_performance</a>();</div>
<div class="line"><span class="lineno">  255</span>        });</div>
<div class="line"><span class="lineno">  256</span>    }</div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_ac1d5840de0c4b19187d75b7132eb39ea"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ac1d5840de0c4b19187d75b7132eb39ea">thread_module::adaptive_job_queue::monitor_thread_</a></div><div class="ttdeci">std::unique_ptr&lt; std::thread &gt; monitor_thread_</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00166">adaptive_job_queue.h:166</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_ac7876e5960468db35420247e2436fad1"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ac7876e5960468db35420247e2436fad1">thread_module::adaptive_job_queue::monitor_performance</a></div><div class="ttdeci">auto monitor_performance() -&gt; void</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00266">adaptive_job_queue.cpp:266</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_af4837d18086f86aa38878336e023f6c6_icgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_af4837d18086f86aa38878336e023f6c6_icgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_af4837d18086f86aa38878336e023f6c6_icgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_af4837d18086f86aa38878336e023f6c6_icgraph">
<area shape="rect" title=" " alt="" coords="288,5,512,60"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a38f6e81a8e88a75ce18ab8b25999a39a" title="Constructor." alt="" coords="5,13,240,53"/>
<area shape="poly" title=" " alt="" coords="274,35,240,35,240,30,274,30"/>
</map>
</div>

</div>
</div>
<a id="a98c73f56316171964d2fa5344148b768" name="a98c73f56316171964d2fa5344148b768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98c73f56316171964d2fa5344148b768">&#9670;&#160;</a></span>stop_performance_monitor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::stop_performance_monitor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; void</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00258">258</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  259</span>    {</div>
<div class="line"><span class="lineno">  260</span>        <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a97368c2ba67f93cf1c4ad9af65b4e701">stop_monitor_</a>.store(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  261</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ac1d5840de0c4b19187d75b7132eb39ea">monitor_thread_</a> &amp;&amp; <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ac1d5840de0c4b19187d75b7132eb39ea">monitor_thread_</a>-&gt;joinable()) {</div>
<div class="line"><span class="lineno">  262</span>            <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ac1d5840de0c4b19187d75b7132eb39ea">monitor_thread_</a>-&gt;join();</div>
<div class="line"><span class="lineno">  263</span>        }</div>
<div class="line"><span class="lineno">  264</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_a98c73f56316171964d2fa5344148b768_icgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_a98c73f56316171964d2fa5344148b768_icgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_a98c73f56316171964d2fa5344148b768_icgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_a98c73f56316171964d2fa5344148b768_icgraph">
<area shape="rect" title=" " alt="" coords="239,5,461,60"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#aac42f107635666b252333b9db8e746b7" title="Destructor." alt="" coords="5,5,191,60"/>
<area shape="poly" title=" " alt="" coords="225,35,191,35,191,30,225,30"/>
</map>
</div>

</div>
</div>
<a id="ab446375c6ffb9807a3c49747a51c7ac1" name="ab446375c6ffb9807a3c49747a51c7ac1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab446375c6ffb9807a3c49747a51c7ac1">&#9670;&#160;</a></span>to_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::to_string </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; std::string</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string representation of this <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html" title="A thread-safe job queue for managing and dispatching work items.">job_queue</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>A std::string describing the state of the queue (e.g., size, flags).</dd></dl>
<p>Primarily used for logging and debugging. Derived classes may override this to include additional diagnostic information. </p>

<p>Reimplemented from <a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html#a8b5f309bc1114fb8aef6115313b67f24">thread_module::job_queue</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00152">152</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  153</span>    {</div>
<div class="line"><span class="lineno">  154</span>        <span class="keyword">auto</span> <a class="code hl_namespace" href="../../d1/d82/namespacemetrics.html">metrics</a> = <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99863b19e32e5d47636220b03de543bb">get_metrics</a>();</div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d1/daf/classutility__module_1_1formatter.html#a1b5ec167f6e47412edd77a4ea658e339">formatter::format</a>(</div>
<div class="line"><span class="lineno">  156</span>            <span class="stringliteral">&quot;adaptive_job_queue[type={}, size={}, avg_latency={:.1f}ns, contention={:.2%}, switches={}]&quot;</span>,</div>
<div class="line"><span class="lineno">  157</span>            <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#aadbcef3b1d1d3a1479d7f4a5c05e93e7">get_current_type</a>(),</div>
<div class="line"><span class="lineno">  158</span>            <a class="code hl_function" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a152c509ecb73f3a2810d1ab80bbc73af">size</a>(),</div>
<div class="line"><span class="lineno">  159</span>            <a class="code hl_namespace" href="../../d1/d82/namespacemetrics.html">metrics</a>.get_average_latency_ns(),</div>
<div class="line"><span class="lineno">  160</span>            <a class="code hl_namespace" href="../../d1/d82/namespacemetrics.html">metrics</a>.get_contention_ratio(),</div>
<div class="line"><span class="lineno">  161</span>            <a class="code hl_namespace" href="../../d1/d82/namespacemetrics.html">metrics</a>.switch_count</div>
<div class="line"><span class="lineno">  162</span>        );</div>
<div class="line"><span class="lineno">  163</span>    }</div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a152c509ecb73f3a2810d1ab80bbc73af"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a152c509ecb73f3a2810d1ab80bbc73af">thread_module::adaptive_job_queue::size</a></div><div class="ttdeci">auto size() const -&gt; std::size_t</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00147">adaptive_job_queue.cpp:147</a></div></div>
<div class="ttc" id="aclassthread__module_1_1adaptive__job__queue_html_a99863b19e32e5d47636220b03de543bb"><div class="ttname"><a href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99863b19e32e5d47636220b03de543bb">thread_module::adaptive_job_queue::get_metrics</a></div><div class="ttdeci">auto get_metrics() const -&gt; performance_metrics</div><div class="ttdoc">Get performance metrics.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00208">adaptive_job_queue.cpp:208</a></div></div>
<div class="ttc" id="aclassutility__module_1_1formatter_html_a1b5ec167f6e47412edd77a4ea658e339"><div class="ttname"><a href="../../d1/daf/classutility__module_1_1formatter.html#a1b5ec167f6e47412edd77a4ea658e339">utility_module::formatter::format</a></div><div class="ttdeci">static auto format(const char *formats, const FormatArgs &amp;... args) -&gt; std::string</div><div class="ttdoc">Formats a narrow-character string with the given arguments.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d52/formatter_8h_source.html#l00176">formatter.h:176</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d67/classthread__module_1_1adaptive__job__queue_ab446375c6ffb9807a3c49747a51c7ac1_cgraph.png" border="0" usemap="#ad9/d67/classthread__module_1_1adaptive__job__queue_ab446375c6ffb9807a3c49747a51c7ac1_cgraph" alt=""/></div>
<map name="ad9/d67/classthread__module_1_1adaptive__job__queue_ab446375c6ffb9807a3c49747a51c7ac1_cgraph" id="ad9/d67/classthread__module_1_1adaptive__job__queue_ab446375c6ffb9807a3c49747a51c7ac1_cgraph">
<area shape="rect" title="Returns a string representation of this job_queue." alt="" coords="5,101,191,141"/>
<area shape="rect" href="../../d1/daf/classutility__module_1_1formatter.html#a1b5ec167f6e47412edd77a4ea658e339" title="Formats a narrow&#45;character string with the given arguments." alt="" coords="253,5,439,45"/>
<area shape="poly" title=" " alt="" coords="138,99,238,55,260,47,262,52,240,60,141,104"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#aadbcef3b1d1d3a1479d7f4a5c05e93e7" title="Get current queue type." alt="" coords="239,69,453,109"/>
<area shape="poly" title=" " alt="" coords="190,107,225,102,225,108,191,112"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99863b19e32e5d47636220b03de543bb" title="Get performance metrics." alt="" coords="253,133,439,173"/>
<area shape="poly" title=" " alt="" coords="191,131,240,137,239,142,190,136"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a152c509ecb73f3a2810d1ab80bbc73af" title=" " alt="" coords="253,197,439,237"/>
<area shape="poly" title=" " alt="" coords="141,139,240,183,262,191,260,196,238,188,138,144"/>
<area shape="rect" href="../../d1/daf/classutility__module_1_1formatter.html#a0e0cfc83510413df54bdf125abddbfbf" title=" " alt="" coords="515,5,702,45"/>
<area shape="poly" title=" " alt="" coords="439,31,502,32,502,37,439,37"/>
<area shape="poly" title=" " alt="" coords="515,19,453,19,453,14,515,14"/>
<area shape="rect" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#ae590e4560c853d15dd3780493f327554" title=" " alt="" coords="501,197,716,237"/>
<area shape="poly" title=" " alt="" coords="439,215,487,215,487,220,439,220"/>
</map>
</div>

</div>
</div>
<a id="a085fa3a028925a953671a15c37cdab5f" name="a085fa3a028925a953671a15c37cdab5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a085fa3a028925a953671a15c37cdab5f">&#9670;&#160;</a></span>update_metrics()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto thread_module::adaptive_job_queue::update_metrics </td>
          <td>(</td>
          <td class="paramtype">std::chrono::nanoseconds&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>had_contention</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; void</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html#l00333">333</a> of file <a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  334</span>    {</div>
<div class="line"><span class="lineno">  335</span>        <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a1bf90c43a3d0c58d4dd79289bbeddd0b">operation_count</a>.fetch_add(1, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">  336</span>        <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#a9a3cdeafb8a219fd3cddbfa08ab7a50d">total_latency_ns</a>.fetch_add(<span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(<a class="code hl_typedef" href="../../dc/da4/namespacemonitoring__module.html#a5288937db3fb31594060a3ae2c801b01">duration</a>.count()), std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">  337</span>        </div>
<div class="line"><span class="lineno">  338</span>        <span class="keywordflow">if</span> (had_contention) {</div>
<div class="line"><span class="lineno">  339</span>            <a class="code hl_variable" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a5abfc8958db801d27b7c9c5f110c0408">metrics_</a>.<a class="code hl_variable" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html#accd0fa108e64f3f5f28e9b98b0f1b136">contention_count</a>.fetch_add(1, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">  340</span>        }</div>
<div class="line"><span class="lineno">  341</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="afc3bebbc72306f42351170ae4de52816" name="afc3bebbc72306f42351170ae4de52816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc3bebbc72306f42351170ae4de52816">&#9670;&#160;</a></span>CONTENTION_THRESHOLD_HIGH</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr double thread_module::adaptive_job_queue::CONTENTION_THRESHOLD_HIGH = 0.1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00171">171</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>

</div>
</div>
<a id="adcff00428dd5ff3fbdc32dfb315a91df" name="adcff00428dd5ff3fbdc32dfb315a91df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcff00428dd5ff3fbdc32dfb315a91df">&#9670;&#160;</a></span>CONTENTION_THRESHOLD_LOW</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr double thread_module::adaptive_job_queue::CONTENTION_THRESHOLD_LOW = 0.05</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00172">172</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>

</div>
</div>
<a id="a495af42dec197fe1ddd44f21b0e5c824" name="a495af42dec197fe1ddd44f21b0e5c824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a495af42dec197fe1ddd44f21b0e5c824">&#9670;&#160;</a></span>current_type_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a2736418d0b8f71823c83aa4a658851b1">queue_type</a>&gt; thread_module::adaptive_job_queue::current_type_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00161">161</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>

</div>
</div>
<a id="a88b07e2fe77e4639b33f64fc6e54f831" name="a88b07e2fe77e4639b33f64fc6e54f831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b07e2fe77e4639b33f64fc6e54f831">&#9670;&#160;</a></span>EVALUATION_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr auto thread_module::adaptive_job_queue::EVALUATION_INTERVAL = std::chrono::seconds(5)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00170">170</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>

</div>
</div>
<a id="a7db88a68dbd4e0e3050572ee8f8c3429" name="a7db88a68dbd4e0e3050572ee8f8c3429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7db88a68dbd4e0e3050572ee8f8c3429">&#9670;&#160;</a></span>LATENCY_THRESHOLD_HIGH_NS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr double thread_module::adaptive_job_queue::LATENCY_THRESHOLD_HIGH_NS = 1000.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00173">173</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>

</div>
</div>
<a id="a31f11f44eb1409a8f3fb7865dfe78ff9" name="a31f11f44eb1409a8f3fb7865dfe78ff9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31f11f44eb1409a8f3fb7865dfe78ff9">&#9670;&#160;</a></span>LATENCY_THRESHOLD_LOW_NS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr double thread_module::adaptive_job_queue::LATENCY_THRESHOLD_LOW_NS = 500.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00174">174</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>

</div>
</div>
<a id="a95cfbfa46d97d5fd6fe36f317cdfe5cc" name="a95cfbfa46d97d5fd6fe36f317cdfe5cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95cfbfa46d97d5fd6fe36f317cdfe5cc">&#9670;&#160;</a></span>legacy_queue_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../df/d6d/classthread__module_1_1job__queue.html">job_queue</a>&gt; thread_module::adaptive_job_queue::legacy_queue_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00157">157</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>

</div>
</div>
<a id="a5abfc8958db801d27b7c9c5f110c0408" name="a5abfc8958db801d27b7c9c5f110c0408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5abfc8958db801d27b7c9c5f110c0408">&#9670;&#160;</a></span>metrics_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d53/structthread__module_1_1adaptive__job__queue_1_1atomic__performance__metrics.html">atomic_performance_metrics</a> thread_module::adaptive_job_queue::metrics_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00165">165</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>

</div>
</div>
<a id="abb172cc674ca491ffd2c4cd13d6a0d66" name="abb172cc674ca491ffd2c4cd13d6a0d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb172cc674ca491ffd2c4cd13d6a0d66">&#9670;&#160;</a></span>MIN_OPERATIONS_FOR_SWITCH</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t thread_module::adaptive_job_queue::MIN_OPERATIONS_FOR_SWITCH = 1000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00175">175</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>

</div>
</div>
<a id="ac1d5840de0c4b19187d75b7132eb39ea" name="ac1d5840de0c4b19187d75b7132eb39ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1d5840de0c4b19187d75b7132eb39ea">&#9670;&#160;</a></span>monitor_thread_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;std::thread&gt; thread_module::adaptive_job_queue::monitor_thread_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00166">166</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>

</div>
</div>
<a id="a0fb9765e5d24e4120d3f208cf86c66ae" name="a0fb9765e5d24e4120d3f208cf86c66ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fb9765e5d24e4120d3f208cf86c66ae">&#9670;&#160;</a></span>mpmc_queue_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d1/de8/classthread__module_1_1lockfree__job__queue.html">lockfree_job_queue</a>&gt; thread_module::adaptive_job_queue::mpmc_queue_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00158">158</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>

</div>
</div>
<a id="a97368c2ba67f93cf1c4ad9af65b4e701" name="a97368c2ba67f93cf1c4ad9af65b4e701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97368c2ba67f93cf1c4ad9af65b4e701">&#9670;&#160;</a></span>stop_monitor_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; thread_module::adaptive_job_queue::stop_monitor_ {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00167">167</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  167</span>{<span class="keyword">false</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad24e153f446d7bbb55962cafcfcd1dfe" name="ad24e153f446d7bbb55962cafcfcd1dfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad24e153f446d7bbb55962cafcfcd1dfe">&#9670;&#160;</a></span>strategy_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d67/classthread__module_1_1adaptive__job__queue.html#a99ade5899f88831d716301436307624e">queue_strategy</a> thread_module::adaptive_job_queue::strategy_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html#l00162">162</a> of file <a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sources/thread_base/lockfree/queues/<a class="el" href="../../dc/d6c/adaptive__job__queue_8h_source.html">adaptive_job_queue.h</a></li>
<li>sources/thread_base/lockfree/queues/<a class="el" href="../../d8/d45/adaptive__job__queue_8cpp_source.html">adaptive_job_queue.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 1 2025 08:23:30 for Thread System by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
