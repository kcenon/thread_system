<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Thread System: samples/crash_protection/main.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Thread System
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_6f9635d4fbfa321d4c00f29df5cd540c.html">samples</a></li><li class="navelem"><a class="el" href="../../dir_59fb47b789e00f7cf5ff9808dbee67d5.html">crash_protection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Crash protection demonstration for thread system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;random&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d9/dc9/crash__handler_8h_source.html">interfaces/crash_handler.h</a>&quot;</code><br />
<code>#include &quot;thread_pool/core/thread_pool.h&quot;</code><br />
<code>#include &quot;thread_pool/workers/thread_worker.h&quot;</code><br />
<code>#include &quot;thread_base/jobs/callback_job.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/df2/crash__protection_2main_8cpp__incl.png" border="0" usemap="#asamples_2crash__protection_2main_8cpp" alt=""/></div>
<map name="asamples_2crash__protection_2main_8cpp" id="asamples_2crash__protection_2main_8cpp">
<area shape="rect" title="Crash protection demonstration for thread system." alt="" coords="353,5,543,45"/>
<area shape="rect" title=" " alt="" coords="5,101,85,126"/>
<area shape="poly" title=" " alt="" coords="354,43,231,65,98,96,88,99,87,94,97,91,230,60,353,38"/>
<area shape="rect" title=" " alt="" coords="109,101,173,126"/>
<area shape="poly" title=" " alt="" coords="361,48,276,69,186,96,180,98,179,93,185,91,274,64,359,43"/>
<area shape="rect" title=" " alt="" coords="197,101,264,126"/>
<area shape="poly" title=" " alt="" coords="400,48,277,96,271,98,269,93,275,91,398,43"/>
<area shape="rect" title=" " alt="" coords="288,101,360,126"/>
<area shape="poly" title=" " alt="" coords="422,48,353,95,350,91,419,43"/>
<area shape="rect" title=" " alt="" coords="322,181,385,207"/>
<area shape="poly" title=" " alt="" coords="439,47,369,171,364,168,435,44"/>
<area shape="rect" title=" " alt="" coords="409,181,487,207"/>
<area shape="poly" title=" " alt="" coords="451,46,451,168,445,168,445,46"/>
<area shape="rect" title=" " alt="" coords="511,181,577,207"/>
<area shape="poly" title=" " alt="" coords="461,44,533,168,528,171,457,47"/>
<area shape="rect" href="../../d9/dc9/crash__handler_8h.html" title=" " alt="" coords="537,101,730,126"/>
<area shape="poly" title=" " alt="" coords="490,43,597,92,595,97,488,48"/>
<area shape="rect" title=" " alt="" coords="754,93,931,133"/>
<area shape="poly" title=" " alt="" coords="535,43,743,88,742,93,534,48"/>
<area shape="rect" title=" " alt="" coords="956,93,1111,133"/>
<area shape="poly" title=" " alt="" coords="543,35,724,58,943,91,942,96,724,63,543,40"/>
<area shape="rect" title=" " alt="" coords="1135,93,1326,133"/>
<area shape="poly" title=" " alt="" coords="543,31,800,54,1122,91,1122,96,799,59,542,36"/>
<area shape="poly" title=" " alt="" coords="593,129,399,183,397,178,592,123"/>
<area shape="poly" title=" " alt="" coords="607,128,488,179,486,174,605,124"/>
<area shape="poly" title=" " alt="" coords="622,128,569,174,566,170,618,124"/>
<area shape="rect" title=" " alt="" coords="865,181,951,207"/>
<area shape="poly" title=" " alt="" coords="674,123,856,175,854,180,673,129"/>
<area shape="rect" title=" " alt="" coords="601,181,665,207"/>
<area shape="poly" title=" " alt="" coords="636,126,636,167,631,167,631,126"/>
<area shape="rect" title=" " alt="" coords="689,181,748,207"/>
<area shape="poly" title=" " alt="" coords="648,124,698,170,694,174,644,128"/>
<area shape="rect" title=" " alt="" coords="773,181,841,207"/>
<area shape="poly" title=" " alt="" coords="660,124,770,173,768,178,657,128"/>
</map>
</div>
</div>
<p><a href="../../d8/dcb/crash__protection_2main_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9c/classcritical__resource.html">critical_resource</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adc8549c9469161e94e0cbbecd4aefeda" id="r_adc8549c9469161e94e0cbbecd4aefeda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcb/crash__protection_2main_8cpp.html#adc8549c9469161e94e0cbbecd4aefeda">simulate_segmentation_fault</a> ()</td></tr>
<tr class="separator:adc8549c9469161e94e0cbbecd4aefeda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a313aefe1da4451d1eca01e5e8dac33ea" id="r_a313aefe1da4451d1eca01e5e8dac33ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcb/crash__protection_2main_8cpp.html#a313aefe1da4451d1eca01e5e8dac33ea">simulate_division_by_zero</a> ()</td></tr>
<tr class="separator:a313aefe1da4451d1eca01e5e8dac33ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78786fc29ec6b5eb7c3e4a210da29a64" id="r_a78786fc29ec6b5eb7c3e4a210da29a64"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcb/crash__protection_2main_8cpp.html#a78786fc29ec6b5eb7c3e4a210da29a64">simulate_abort</a> ()</td></tr>
<tr class="separator:a78786fc29ec6b5eb7c3e4a210da29a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a248f585fa8d27c85bb9ec05d6472df" id="r_a1a248f585fa8d27c85bb9ec05d6472df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcb/crash__protection_2main_8cpp.html#a1a248f585fa8d27c85bb9ec05d6472df">normal_task</a> (int task_id)</td></tr>
<tr class="separator:a1a248f585fa8d27c85bb9ec05d6472df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a027682e9e092bf01548f6263219d1227" id="r_a027682e9e092bf01548f6263219d1227"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcb/crash__protection_2main_8cpp.html#a027682e9e092bf01548f6263219d1227">potentially_crashing_task</a> (int task_id)</td></tr>
<tr class="separator:a027682e9e092bf01548f6263219d1227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a611a2c2c939164753898da654dc0dc8a" id="r_a611a2c2c939164753898da654dc0dc8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcb/crash__protection_2main_8cpp.html#a611a2c2c939164753898da654dc0dc8a">on_system_crash</a> (const <a class="el" href="../../d8/d68/structthread__module_1_1crash__context.html">crash_context</a> &amp;context)</td></tr>
<tr class="separator:a611a2c2c939164753898da654dc0dc8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc3426fa8cd19b722d7fd8e93448fef" id="r_abcc3426fa8cd19b722d7fd8e93448fef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcb/crash__protection_2main_8cpp.html#abcc3426fa8cd19b722d7fd8e93448fef">cleanup_global_resources</a> ()</td></tr>
<tr class="separator:abcc3426fa8cd19b722d7fd8e93448fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e2dac29460f757cd4a198671c3b7bf3" id="r_a7e2dac29460f757cd4a198671c3b7bf3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcb/crash__protection_2main_8cpp.html#a7e2dac29460f757cd4a198671c3b7bf3">emergency_state_save</a> ()</td></tr>
<tr class="separator:a7e2dac29460f757cd4a198671c3b7bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4" id="r_ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcb/crash__protection_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aeb7f74a4fbbade3d7352e01f89abcac7" id="r_aeb7f74a4fbbade3d7352e01f89abcac7"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcb/crash__protection_2main_8cpp.html#aeb7f74a4fbbade3d7352e01f89abcac7">system_running</a> {true}</td></tr>
<tr class="separator:aeb7f74a4fbbade3d7352e01f89abcac7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f532135d415c13ad46304f3c42c8353" id="r_a1f532135d415c13ad46304f3c42c8353"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcb/crash__protection_2main_8cpp.html#a1f532135d415c13ad46304f3c42c8353">tasks_completed</a> {0}</td></tr>
<tr class="separator:a1f532135d415c13ad46304f3c42c8353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abee730dc8613e5540b922ac6251793f2" id="r_abee730dc8613e5540b922ac6251793f2"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcb/crash__protection_2main_8cpp.html#abee730dc8613e5540b922ac6251793f2">tasks_failed</a> {0}</td></tr>
<tr class="separator:abee730dc8613e5540b922ac6251793f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56463d0ca01cdb597f7cbce161ab4cc5" id="r_a56463d0ca01cdb597f7cbce161ab4cc5"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::shared_ptr&lt; <a class="el" href="../../d3/d9c/classcritical__resource.html">critical_resource</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dcb/crash__protection_2main_8cpp.html#a56463d0ca01cdb597f7cbce161ab4cc5">global_resources</a></td></tr>
<tr class="separator:a56463d0ca01cdb597f7cbce161ab4cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Crash protection demonstration for thread system. </p>
<p>This example demonstrates comprehensive crash protection mechanisms including signal handling, graceful shutdown, resource cleanup, and automatic recovery capabilities. </p>

<p class="definition">Definition in file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="abcc3426fa8cd19b722d7fd8e93448fef" name="abcc3426fa8cd19b722d7fd8e93448fef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcc3426fa8cd19b722d7fd8e93448fef">&#9670;&#160;</a></span>cleanup_global_resources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_global_resources </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00136">136</a> of file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  136</span>                                {</div>
<div class="line"><span class="lineno">  137</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[CLEANUP] Cleaning up global resources...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; resource : <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#a56463d0ca01cdb597f7cbce161ab4cc5">global_resources</a>) {</div>
<div class="line"><span class="lineno">  139</span>        <span class="keywordflow">if</span> (resource &amp;&amp; resource-&gt;is_allocated()) {</div>
<div class="line"><span class="lineno">  140</span>            resource-&gt;cleanup();</div>
<div class="line"><span class="lineno">  141</span>        }</div>
<div class="line"><span class="lineno">  142</span>    }</div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#a56463d0ca01cdb597f7cbce161ab4cc5">global_resources</a>.clear();</div>
<div class="line"><span class="lineno">  144</span>}</div>
<div class="ttc" id="acrash__protection_2main_8cpp_html_a56463d0ca01cdb597f7cbce161ab4cc5"><div class="ttname"><a href="../../d8/dcb/crash__protection_2main_8cpp.html#a56463d0ca01cdb597f7cbce161ab4cc5">global_resources</a></div><div class="ttdeci">std::vector&lt; std::shared_ptr&lt; critical_resource &gt; &gt; global_resources</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00058">main.cpp:58</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dcb/crash__protection_2main_8cpp_abcc3426fa8cd19b722d7fd8e93448fef_icgraph.png" border="0" usemap="#ad8/dcb/crash__protection_2main_8cpp_abcc3426fa8cd19b722d7fd8e93448fef_icgraph" alt=""/></div>
<map name="ad8/dcb/crash__protection_2main_8cpp_abcc3426fa8cd19b722d7fd8e93448fef_icgraph" id="ad8/dcb/crash__protection_2main_8cpp_abcc3426fa8cd19b722d7fd8e93448fef_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,299,31"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a7e2dac29460f757cd4a198671c3b7bf3" name="a7e2dac29460f757cd4a198671c3b7bf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e2dac29460f757cd4a198671c3b7bf3">&#9670;&#160;</a></span>emergency_state_save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emergency_state_save </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00146">146</a> of file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  146</span>                            {</div>
<div class="line"><span class="lineno">  147</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[SAVE] Saving emergency state...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  148</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Tasks completed: &quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#a1f532135d415c13ad46304f3c42c8353">tasks_completed</a>.load() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  149</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Tasks failed: &quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#abee730dc8613e5540b922ac6251793f2">tasks_failed</a>.load() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  150</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Resources allocated: &quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#a56463d0ca01cdb597f7cbce161ab4cc5">global_resources</a>.size() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  151</span>}</div>
<div class="ttc" id="acrash__protection_2main_8cpp_html_a1f532135d415c13ad46304f3c42c8353"><div class="ttname"><a href="../../d8/dcb/crash__protection_2main_8cpp.html#a1f532135d415c13ad46304f3c42c8353">tasks_completed</a></div><div class="ttdeci">std::atomic&lt; int &gt; tasks_completed</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00028">main.cpp:28</a></div></div>
<div class="ttc" id="acrash__protection_2main_8cpp_html_abee730dc8613e5540b922ac6251793f2"><div class="ttname"><a href="../../d8/dcb/crash__protection_2main_8cpp.html#abee730dc8613e5540b922ac6251793f2">tasks_failed</a></div><div class="ttdeci">std::atomic&lt; int &gt; tasks_failed</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00029">main.cpp:29</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dcb/crash__protection_2main_8cpp_a7e2dac29460f757cd4a198671c3b7bf3_icgraph.png" border="0" usemap="#ad8/dcb/crash__protection_2main_8cpp_a7e2dac29460f757cd4a198671c3b7bf3_icgraph" alt=""/></div>
<map name="ad8/dcb/crash__protection_2main_8cpp_a7e2dac29460f757cd4a198671c3b7bf3_icgraph" id="ad8/dcb/crash__protection_2main_8cpp_a7e2dac29460f757cd4a198671c3b7bf3_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,281,31"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4" name="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00153">153</a> of file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  153</span>           {</div>
<div class="line"><span class="lineno">  154</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;=== Thread System Crash Protection Demo ===&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  155</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;This demo shows comprehensive crash protection mechanisms\n&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  156</span>    </div>
<div class="line"><span class="lineno">  157</span>    <span class="comment">// Step 1: Initialize crash protection</span></div>
<div class="line"><span class="lineno">  158</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;--- Step 1: Initialize Crash Protection ---&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  159</span>    </div>
<div class="line"><span class="lineno">  160</span>    <span class="keyword">auto</span>&amp; <a class="code hl_class" href="../../d6/d49/classthread__module_1_1crash__handler.html">crash_handler</a> = <a class="code hl_function" href="../../d6/d49/classthread__module_1_1crash__handler.html#a46a791b4e21ae6dd8981d523bd5eb005">crash_handler::instance</a>();</div>
<div class="line"><span class="lineno">  161</span>    <a class="code hl_class" href="../../d6/d49/classthread__module_1_1crash__handler.html">crash_handler</a>.<a class="code hl_function" href="../../d6/d49/classthread__module_1_1crash__handler.html#a47cf213a452d573bfa5da37d1b7f3654">initialize</a>(crash_safety_level::standard, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  162</span>    <a class="code hl_class" href="../../d6/d49/classthread__module_1_1crash__handler.html">crash_handler</a>.<a class="code hl_function" href="../../d6/d49/classthread__module_1_1crash__handler.html#af73014f86dd48f62d9a81b89ed40aa08">set_crash_log_directory</a>(<span class="stringliteral">&quot;./crash_logs&quot;</span>);</div>
<div class="line"><span class="lineno">  163</span>    </div>
<div class="line"><span class="lineno">  164</span>    <span class="comment">// Register crash callbacks</span></div>
<div class="line"><span class="lineno">  165</span>    <span class="keyword">auto</span> crash_callback_id = <a class="code hl_class" href="../../d6/d49/classthread__module_1_1crash__handler.html">crash_handler</a>.<a class="code hl_function" href="../../d6/d49/classthread__module_1_1crash__handler.html#a03d72787870ecd7d6f6cdafccdd3b343">register_crash_callback</a>(</div>
<div class="line"><span class="lineno">  166</span>        <span class="stringliteral">&quot;SystemCrashHandler&quot;</span>, <a class="code hl_function" href="../../d8/dcb/crash__protection_2main_8cpp.html#a611a2c2c939164753898da654dc0dc8a">on_system_crash</a>, 10);</div>
<div class="line"><span class="lineno">  167</span>    </div>
<div class="line"><span class="lineno">  168</span>    <span class="comment">// Register cleanup functions</span></div>
<div class="line"><span class="lineno">  169</span>    <a class="code hl_class" href="../../d6/d49/classthread__module_1_1crash__handler.html">crash_handler</a>.<a class="code hl_function" href="../../d6/d49/classthread__module_1_1crash__handler.html#adad785942780b04ba99e1a827c5f521c">register_cleanup</a>(<span class="stringliteral">&quot;GlobalResources&quot;</span>, <a class="code hl_function" href="../../d8/dcb/crash__protection_2main_8cpp.html#abcc3426fa8cd19b722d7fd8e93448fef">cleanup_global_resources</a>, 2000);</div>
<div class="line"><span class="lineno">  170</span>    <a class="code hl_class" href="../../d6/d49/classthread__module_1_1crash__handler.html">crash_handler</a>.<a class="code hl_function" href="../../d6/d49/classthread__module_1_1crash__handler.html#adad785942780b04ba99e1a827c5f521c">register_cleanup</a>(<span class="stringliteral">&quot;EmergencyState&quot;</span>, <a class="code hl_function" href="../../d8/dcb/crash__protection_2main_8cpp.html#a7e2dac29460f757cd4a198671c3b7bf3">emergency_state_save</a>, 1000);</div>
<div class="line"><span class="lineno">  171</span>    </div>
<div class="line"><span class="lineno">  172</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[OK] Crash protection initialized&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  173</span>    </div>
<div class="line"><span class="lineno">  174</span>    <span class="comment">// Step 2: Allocate critical resources</span></div>
<div class="line"><span class="lineno">  175</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n--- Step 2: Allocate Critical Resources ---&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  176</span>    </div>
<div class="line"><span class="lineno">  177</span>    <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#a56463d0ca01cdb597f7cbce161ab4cc5">global_resources</a>.push_back(std::make_shared&lt;critical_resource&gt;(<span class="stringliteral">&quot;DatabaseConnection&quot;</span>));</div>
<div class="line"><span class="lineno">  178</span>    <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#a56463d0ca01cdb597f7cbce161ab4cc5">global_resources</a>.push_back(std::make_shared&lt;critical_resource&gt;(<span class="stringliteral">&quot;NetworkSocket&quot;</span>));</div>
<div class="line"><span class="lineno">  179</span>    <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#a56463d0ca01cdb597f7cbce161ab4cc5">global_resources</a>.push_back(std::make_shared&lt;critical_resource&gt;(<span class="stringliteral">&quot;FileHandle&quot;</span>));</div>
<div class="line"><span class="lineno">  180</span>    <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#a56463d0ca01cdb597f7cbce161ab4cc5">global_resources</a>.push_back(std::make_shared&lt;critical_resource&gt;(<span class="stringliteral">&quot;SharedMemory&quot;</span>));</div>
<div class="line"><span class="lineno">  181</span>    </div>
<div class="line"><span class="lineno">  182</span>    <span class="comment">// Step 3: Create and configure thread pool with crash protection</span></div>
<div class="line"><span class="lineno">  183</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n--- Step 3: Create Thread Pool ---&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  184</span>    </div>
<div class="line"><span class="lineno">  185</span>    <span class="keyword">using </span>thread_pool_t = <a class="code hl_class" href="../../d9/da1/classthread__pool__module_1_1thread__pool.html">thread_pool_module::thread_pool</a>;</div>
<div class="line"><span class="lineno">  186</span>    <span class="keyword">using </span>thread_worker_t = <a class="code hl_class" href="../../d7/d1b/classthread__pool__module_1_1thread__worker.html">thread_pool_module::thread_worker</a>;</div>
<div class="line"><span class="lineno">  187</span>    <span class="keyword">using </span><a class="code hl_class" href="../../dc/d7f/classthread__module_1_1callback__job.html">thread_module::callback_job</a>;</div>
<div class="line"><span class="lineno">  188</span>    </div>
<div class="line"><span class="lineno">  189</span>    <span class="keyword">auto</span> thread_pool = std::make_shared&lt;thread_pool_t&gt;(<span class="stringliteral">&quot;MainPool&quot;</span>);</div>
<div class="line"><span class="lineno">  190</span>    </div>
<div class="line"><span class="lineno">  191</span>    <span class="comment">// Enable crash protection for thread pool (conceptual)</span></div>
<div class="line"><span class="lineno">  192</span>    <a class="code hl_function" href="../../d4/d20/classthread__module_1_1thread__pool__crash__safety.html#ad542c57ccae4e0b2ed6048c6116a36a2">thread_pool_crash_safety::enable_for_pool</a>(<span class="stringliteral">&quot;MainPool&quot;</span>, *thread_pool);</div>
<div class="line"><span class="lineno">  193</span>    <a class="code hl_function" href="../../d4/d20/classthread__module_1_1thread__pool__crash__safety.html#a6f41b8b68fadb4e7d5053b914704332e">thread_pool_crash_safety::set_job_crash_handler</a>(</div>
<div class="line"><span class="lineno">  194</span>        [](<span class="keyword">const</span> std::string&amp; pool_name, <span class="keyword">const</span> <a class="code hl_struct" href="../../d8/d68/structthread__module_1_1crash__context.html">crash_context</a>&amp; context) {</div>
<div class="line"><span class="lineno">  195</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;[CRASH] Job crashed in pool: &quot;</span> &lt;&lt; pool_name &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  196</span>            std::cout &lt;&lt; <span class="stringliteral">&quot;Signal: &quot;</span> &lt;&lt; context.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a0386a91817fd36d942ebc7da48f28ae8">signal_name</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  197</span>        });</div>
<div class="line"><span class="lineno">  198</span>    </div>
<div class="line"><span class="lineno">  199</span>    <span class="comment">// Add workers</span></div>
<div class="line"><span class="lineno">  200</span>    {</div>
<div class="line"><span class="lineno">  201</span>        std::vector&lt;std::unique_ptr&lt;thread_worker_t&gt;&gt; workers;</div>
<div class="line"><span class="lineno">  202</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; ++i) {</div>
<div class="line"><span class="lineno">  203</span>            workers.push_back(std::make_unique&lt;thread_worker_t&gt;());</div>
<div class="line"><span class="lineno">  204</span>        }</div>
<div class="line"><span class="lineno">  205</span>        <span class="keyword">auto</span> r = thread_pool-&gt;enqueue_batch(std::move(workers));</div>
<div class="line"><span class="lineno">  206</span>        <span class="keywordflow">if</span> (r.has_error()) {</div>
<div class="line"><span class="lineno">  207</span>            std::cerr &lt;&lt; <span class="stringliteral">&quot;Failed to add workers: &quot;</span> &lt;&lt; r.get_error().to_string() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  208</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  209</span>        }</div>
<div class="line"><span class="lineno">  210</span>    }</div>
<div class="line"><span class="lineno">  211</span>    <span class="comment">// Start pool</span></div>
<div class="line"><span class="lineno">  212</span>    {</div>
<div class="line"><span class="lineno">  213</span>        <span class="keyword">auto</span> r = thread_pool-&gt;start();</div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">if</span> (r.has_error()) {</div>
<div class="line"><span class="lineno">  215</span>            std::cerr &lt;&lt; <span class="stringliteral">&quot;Failed to start thread pool: &quot;</span> &lt;&lt; r.get_error().to_string() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  216</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  217</span>        }</div>
<div class="line"><span class="lineno">  218</span>    }</div>
<div class="line"><span class="lineno">  219</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[OK] Thread pool started with crash protection&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  220</span>    </div>
<div class="line"><span class="lineno">  221</span>    <span class="comment">// Step 4: Submit normal tasks</span></div>
<div class="line"><span class="lineno">  222</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n--- Step 4: Submit Normal Tasks ---&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  223</span>    </div>
<div class="line"><span class="lineno">  224</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; ++i) {</div>
<div class="line"><span class="lineno">  225</span>        <span class="keyword">auto</span> <a class="code hl_class" href="../../d8/d42/classthread__module_1_1job.html">job</a> = std::make_unique&lt;callback_job&gt;(</div>
<div class="line"><span class="lineno">  226</span>            [i]() -&gt; <a class="code hl_class" href="../../dd/da2/classthread__module_1_1result__void.html">thread_module::result_void</a> {</div>
<div class="line"><span class="lineno">  227</span>                <a class="code hl_function" href="../../d8/dcb/crash__protection_2main_8cpp.html#a1a248f585fa8d27c85bb9ec05d6472df">normal_task</a>(i);</div>
<div class="line"><span class="lineno">  228</span>                <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  229</span>            }</div>
<div class="line"><span class="lineno">  230</span>        );</div>
<div class="line"><span class="lineno">  231</span>        <span class="keyword">auto</span> r = thread_pool-&gt;enqueue(std::move(<a class="code hl_class" href="../../d8/d42/classthread__module_1_1job.html">job</a>));</div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">if</span> (r.has_error()) {</div>
<div class="line"><span class="lineno">  233</span>            std::cerr &lt;&lt; <span class="stringliteral">&quot;enqueue normal task failed: &quot;</span> &lt;&lt; r.get_error().<a class="code hl_function" href="../../d8/d42/classthread__module_1_1job.html#ab11c230165f14290a427f58267ece23b">to_string</a>() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  234</span>        }</div>
<div class="line"><span class="lineno">  235</span>    }</div>
<div class="line"><span class="lineno">  236</span>    <span class="comment">// Give some time for tasks</span></div>
<div class="line"><span class="lineno">  237</span>    std::this_thread::sleep_for(std::chrono::seconds(1));</div>
<div class="line"><span class="lineno">  238</span>    </div>
<div class="line"><span class="lineno">  239</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[OK] All normal tasks completed&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  240</span>    </div>
<div class="line"><span class="lineno">  241</span>    <span class="comment">// Step 5: Submit potentially crashing tasks</span></div>
<div class="line"><span class="lineno">  242</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n--- Step 5: Submit Potentially Crashing Tasks ---&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  243</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[WARN] Some of these tasks may crash - crash protection will handle them&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  244</span>    </div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 10; i &lt; 25; ++i) {</div>
<div class="line"><span class="lineno">  246</span>        <span class="keyword">auto</span> <a class="code hl_class" href="../../d8/d42/classthread__module_1_1job.html">job</a> = std::make_unique&lt;callback_job&gt;(</div>
<div class="line"><span class="lineno">  247</span>            [i, &amp;<a class="code hl_class" href="../../d6/d49/classthread__module_1_1crash__handler.html">crash_handler</a>]() -&gt; <a class="code hl_class" href="../../dd/da2/classthread__module_1_1result__void.html">thread_module::result_void</a> {</div>
<div class="line"><span class="lineno">  248</span>                <span class="comment">// Simulate occasional crash handling without real crash</span></div>
<div class="line"><span class="lineno">  249</span>                std::random_device rd; std::mt19937 gen(rd());</div>
<div class="line"><span class="lineno">  250</span>                std::uniform_int_distribution&lt;&gt; dist(1, 10);</div>
<div class="line"><span class="lineno">  251</span>                <span class="keywordtype">int</span> outcome = dist(gen);</div>
<div class="line"><span class="lineno">  252</span>                <span class="keywordflow">if</span> (outcome &gt;= 9) {</div>
<div class="line"><span class="lineno">  253</span>                    <a class="code hl_struct" href="../../d8/d68/structthread__module_1_1crash__context.html">crash_context</a> ctx;</div>
<div class="line"><span class="lineno">  254</span>                    ctx.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a41614fedbd18e95360de11b6dfeb73fc">signal_number</a> = SIGUSR1;</div>
<div class="line"><span class="lineno">  255</span>                    ctx.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a0386a91817fd36d942ebc7da48f28ae8">signal_name</a> = <span class="stringliteral">&quot;SIGUSR1&quot;</span>;</div>
<div class="line"><span class="lineno">  256</span>                    ctx.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#ac5bc96220c11fad2edcb48550aeaf6b9">fault_address</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  257</span>                    ctx.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a6410823a1bd604cfb8d22b89c686d921">stack_trace</a> = <span class="stringliteral">&quot;Simulated crash&quot;</span>;</div>
<div class="line"><span class="lineno">  258</span>                    ctx.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a31a08690fe703515171b036d9f7a80e2">crash_time</a> = std::chrono::system_clock::now();</div>
<div class="line"><span class="lineno">  259</span>                    ctx.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a5e3a6fef2839ccf582bc1f4343317e24">crashing_thread</a> = std::this_thread::get_id();</div>
<div class="line"><span class="lineno">  260</span>                    <a class="code hl_class" href="../../d6/d49/classthread__module_1_1crash__handler.html">crash_handler</a>.<a class="code hl_function" href="../../d6/d49/classthread__module_1_1crash__handler.html#a1a4fd12433eebba77206eb322b7abb82">trigger_crash_handling</a>(ctx);</div>
<div class="line"><span class="lineno">  261</span>                    <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#abee730dc8613e5540b922ac6251793f2">tasks_failed</a>.fetch_add(1);</div>
<div class="line"><span class="lineno">  262</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  263</span>                    std::this_thread::sleep_for(std::chrono::milliseconds(50));</div>
<div class="line"><span class="lineno">  264</span>                    <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#a1f532135d415c13ad46304f3c42c8353">tasks_completed</a>.fetch_add(1);</div>
<div class="line"><span class="lineno">  265</span>                }</div>
<div class="line"><span class="lineno">  266</span>                <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  267</span>            }</div>
<div class="line"><span class="lineno">  268</span>        );</div>
<div class="line"><span class="lineno">  269</span>        <span class="keyword">auto</span> r = thread_pool-&gt;enqueue(std::move(<a class="code hl_class" href="../../d8/d42/classthread__module_1_1job.html">job</a>));</div>
<div class="line"><span class="lineno">  270</span>        <span class="keywordflow">if</span> (r.has_error()) {</div>
<div class="line"><span class="lineno">  271</span>            std::cerr &lt;&lt; <span class="stringliteral">&quot;enqueue risky task failed: &quot;</span> &lt;&lt; r.get_error().<a class="code hl_function" href="../../d8/d42/classthread__module_1_1job.html#ab11c230165f14290a427f58267ece23b">to_string</a>() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  272</span>        }</div>
<div class="line"><span class="lineno">  273</span>    }</div>
<div class="line"><span class="lineno">  274</span>    std::this_thread::sleep_for(std::chrono::seconds(2));</div>
<div class="line"><span class="lineno">  275</span>    </div>
<div class="line"><span class="lineno">  276</span>    <span class="comment">// Step 6: Test manual crash scenarios</span></div>
<div class="line"><span class="lineno">  277</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n--- Step 6: Manual Crash Tests ---&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  278</span>    </div>
<div class="line"><span class="lineno">  279</span>    <span class="comment">// Test 1: Manual crash trigger (for testing)</span></div>
<div class="line"><span class="lineno">  280</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\nTest 1: Manual crash trigger&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  281</span>    <a class="code hl_struct" href="../../d8/d68/structthread__module_1_1crash__context.html">crash_context</a> test_context;</div>
<div class="line"><span class="lineno">  282</span>    test_context.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a41614fedbd18e95360de11b6dfeb73fc">signal_number</a> = SIGUSR1;</div>
<div class="line"><span class="lineno">  283</span>    test_context.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a0386a91817fd36d942ebc7da48f28ae8">signal_name</a> = <span class="stringliteral">&quot;SIGUSR1&quot;</span>;</div>
<div class="line"><span class="lineno">  284</span>    test_context.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#ac5bc96220c11fad2edcb48550aeaf6b9">fault_address</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  285</span>    test_context.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a6410823a1bd604cfb8d22b89c686d921">stack_trace</a> = <span class="stringliteral">&quot;Manual test stack trace&quot;</span>;</div>
<div class="line"><span class="lineno">  286</span>    test_context.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a31a08690fe703515171b036d9f7a80e2">crash_time</a> = std::chrono::system_clock::now();</div>
<div class="line"><span class="lineno">  287</span>    test_context.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a5e3a6fef2839ccf582bc1f4343317e24">crashing_thread</a> = std::this_thread::get_id();</div>
<div class="line"><span class="lineno">  288</span>    </div>
<div class="line"><span class="lineno">  289</span>    <a class="code hl_class" href="../../d6/d49/classthread__module_1_1crash__handler.html">crash_handler</a>.<a class="code hl_function" href="../../d6/d49/classthread__module_1_1crash__handler.html#a1a4fd12433eebba77206eb322b7abb82">trigger_crash_handling</a>(test_context);</div>
<div class="line"><span class="lineno">  290</span>    </div>
<div class="line"><span class="lineno">  291</span>    <span class="comment">// Test 2: Scoped crash protection</span></div>
<div class="line"><span class="lineno">  292</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\nTest 2: Scoped crash protection&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  293</span>    {</div>
<div class="line"><span class="lineno">  294</span>        <a class="code hl_class" href="../../d5/dfd/classthread__module_1_1scoped__crash__callback.html">scoped_crash_callback</a> scoped_protection(<span class="stringliteral">&quot;ScopedTest&quot;</span>,</div>
<div class="line"><span class="lineno">  295</span>            [](<span class="keyword">const</span> <a class="code hl_struct" href="../../d8/d68/structthread__module_1_1crash__context.html">crash_context</a>&amp; ctx) {</div>
<div class="line"><span class="lineno">  296</span>                std::cout &lt;&lt; <span class="stringliteral">&quot;[PROTECT] Scoped crash handler activated&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  297</span>            }, 50);</div>
<div class="line"><span class="lineno">  298</span>        </div>
<div class="line"><span class="lineno">  299</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;[OK] Scoped protection active&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  300</span>        <span class="comment">// Scoped protection will be automatically removed when leaving this block</span></div>
<div class="line"><span class="lineno">  301</span>    }</div>
<div class="line"><span class="lineno">  302</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[OK] Scoped protection removed&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  303</span>    </div>
<div class="line"><span class="lineno">  304</span>    <span class="comment">// Step 7: Display final statistics</span></div>
<div class="line"><span class="lineno">  305</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n--- Step 7: Final Statistics ---&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  306</span>    </div>
<div class="line"><span class="lineno">  307</span>    <span class="keyword">auto</span> stats = <a class="code hl_class" href="../../d6/d49/classthread__module_1_1crash__handler.html">crash_handler</a>.<a class="code hl_function" href="../../d6/d49/classthread__module_1_1crash__handler.html#ae85f9fe6691db1fdac09b928a92dece3">get_stats</a>();</div>
<div class="line"><span class="lineno">  308</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Crash Statistics:&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  309</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;  Total crashes handled: &quot;</span> &lt;&lt; stats.<a class="code hl_variable" href="../../db/d15/structthread__module_1_1crash__handler_1_1crash__stats.html#aa7f868fe600a8acac59940372c0e892f">total_crashes_handled</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  310</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;  Successful cleanups: &quot;</span> &lt;&lt; stats.successful_cleanups &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  311</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;  Failed cleanups: &quot;</span> &lt;&lt; stats.failed_cleanups &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  312</span>    </div>
<div class="line"><span class="lineno">  313</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\nTask Statistics:&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  314</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;  Tasks completed: &quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#a1f532135d415c13ad46304f3c42c8353">tasks_completed</a>.load() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  315</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;  Tasks failed: &quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#abee730dc8613e5540b922ac6251793f2">tasks_failed</a>.load() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  316</span>    </div>
<div class="line"><span class="lineno">  317</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\nResource Status:&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; resource : <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#a56463d0ca01cdb597f7cbce161ab4cc5">global_resources</a>) {</div>
<div class="line"><span class="lineno">  319</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; resource-&gt;name() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> </div>
<div class="line"><span class="lineno">  320</span>                  &lt;&lt; (resource-&gt;is_allocated() ? <span class="stringliteral">&quot;allocated&quot;</span> : <span class="stringliteral">&quot;cleaned up&quot;</span>) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  321</span>    }</div>
<div class="line"><span class="lineno">  322</span>    </div>
<div class="line"><span class="lineno">  323</span>    <span class="comment">// Step 8: Graceful shutdown</span></div>
<div class="line"><span class="lineno">  324</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n--- Step 8: Graceful Shutdown ---&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  325</span>    </div>
<div class="line"><span class="lineno">  326</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Stopping thread pool...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  327</span>    {</div>
<div class="line"><span class="lineno">  328</span>        <span class="keyword">auto</span> r = thread_pool-&gt;stop();</div>
<div class="line"><span class="lineno">  329</span>        <span class="keywordflow">if</span> (r.has_error()) {</div>
<div class="line"><span class="lineno">  330</span>            std::cerr &lt;&lt; <span class="stringliteral">&quot;Failed to stop thread pool: &quot;</span> &lt;&lt; r.get_error().to_string() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  331</span>        }</div>
<div class="line"><span class="lineno">  332</span>    }</div>
<div class="line"><span class="lineno">  333</span>    </div>
<div class="line"><span class="lineno">  334</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Cleaning up resources...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  335</span>    <a class="code hl_function" href="../../d8/dcb/crash__protection_2main_8cpp.html#abcc3426fa8cd19b722d7fd8e93448fef">cleanup_global_resources</a>();</div>
<div class="line"><span class="lineno">  336</span>    </div>
<div class="line"><span class="lineno">  337</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Unregistering crash callbacks...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  338</span>    <a class="code hl_class" href="../../d6/d49/classthread__module_1_1crash__handler.html">crash_handler</a>.<a class="code hl_function" href="../../d6/d49/classthread__module_1_1crash__handler.html#a70ec77fb99c1a4bc3d65c315833f21ba">unregister_crash_callback</a>(crash_callback_id);</div>
<div class="line"><span class="lineno">  339</span>    </div>
<div class="line"><span class="lineno">  340</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n=== Demo Completed Successfully ===&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  341</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Key features demonstrated:&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  342</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[OK] Signal handling and crash detection&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  343</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[OK] Stack trace generation&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  344</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[OK] Resource cleanup on crash&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  345</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[OK] Thread pool crash protection&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  346</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[OK] Scoped crash protection&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  347</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[OK] Graceful shutdown coordination&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  348</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[OK] Crash statistics and monitoring&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  349</span>    </div>
<div class="line"><span class="lineno">  350</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  351</span>}</div>
<div class="ttc" id="aclassthread__module_1_1callback__job_html"><div class="ttname"><a href="../../dc/d7f/classthread__module_1_1callback__job.html">thread_module::callback_job</a></div><div class="ttdoc">A specialized job class that encapsulates user-defined callbacks.</div><div class="ttdef"><b>Definition</b> <a href="../../db/ddd/callback__job_8h_source.html#l00095">callback_job.h:96</a></div></div>
<div class="ttc" id="aclassthread__module_1_1crash__handler_html"><div class="ttname"><a href="../../d6/d49/classthread__module_1_1crash__handler.html">thread_module::crash_handler</a></div><div class="ttdoc">Thread-safe crash handler for the entire thread system.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dc9/crash__handler_8h_source.html#l00056">crash_handler.h:56</a></div></div>
<div class="ttc" id="aclassthread__module_1_1crash__handler_html_a03d72787870ecd7d6f6cdafccdd3b343"><div class="ttname"><a href="../../d6/d49/classthread__module_1_1crash__handler.html#a03d72787870ecd7d6f6cdafccdd3b343">thread_module::crash_handler::register_crash_callback</a></div><div class="ttdeci">size_t register_crash_callback(const std::string &amp;name, crash_callback callback, int priority=100)</div><div class="ttdoc">Register a callback to be called during crash handling.</div></div>
<div class="ttc" id="aclassthread__module_1_1crash__handler_html_a1a4fd12433eebba77206eb322b7abb82"><div class="ttname"><a href="../../d6/d49/classthread__module_1_1crash__handler.html#a1a4fd12433eebba77206eb322b7abb82">thread_module::crash_handler::trigger_crash_handling</a></div><div class="ttdeci">void trigger_crash_handling(const crash_context &amp;context)</div><div class="ttdoc">Manually trigger crash handling (for testing)</div></div>
<div class="ttc" id="aclassthread__module_1_1crash__handler_html_a46a791b4e21ae6dd8981d523bd5eb005"><div class="ttname"><a href="../../d6/d49/classthread__module_1_1crash__handler.html#a46a791b4e21ae6dd8981d523bd5eb005">thread_module::crash_handler::instance</a></div><div class="ttdeci">static crash_handler &amp; instance()</div><div class="ttdoc">Get the global crash handler instance.</div></div>
<div class="ttc" id="aclassthread__module_1_1crash__handler_html_a47cf213a452d573bfa5da37d1b7f3654"><div class="ttname"><a href="../../d6/d49/classthread__module_1_1crash__handler.html#a47cf213a452d573bfa5da37d1b7f3654">thread_module::crash_handler::initialize</a></div><div class="ttdeci">void initialize(crash_safety_level level=crash_safety_level::standard, bool enable_core_dumps=false)</div><div class="ttdoc">Initialize crash handling with specified safety level.</div></div>
<div class="ttc" id="aclassthread__module_1_1crash__handler_html_a70ec77fb99c1a4bc3d65c315833f21ba"><div class="ttname"><a href="../../d6/d49/classthread__module_1_1crash__handler.html#a70ec77fb99c1a4bc3d65c315833f21ba">thread_module::crash_handler::unregister_crash_callback</a></div><div class="ttdeci">void unregister_crash_callback(size_t registration_id)</div><div class="ttdoc">Unregister a crash callback.</div></div>
<div class="ttc" id="aclassthread__module_1_1crash__handler_html_adad785942780b04ba99e1a827c5f521c"><div class="ttname"><a href="../../d6/d49/classthread__module_1_1crash__handler.html#adad785942780b04ba99e1a827c5f521c">thread_module::crash_handler::register_cleanup</a></div><div class="ttdeci">void register_cleanup(const std::string &amp;name, std::function&lt; void()&gt; cleanup, uint32_t timeout_ms=1000)</div><div class="ttdoc">Register a resource cleanup function.</div></div>
<div class="ttc" id="aclassthread__module_1_1crash__handler_html_ae85f9fe6691db1fdac09b928a92dece3"><div class="ttname"><a href="../../d6/d49/classthread__module_1_1crash__handler.html#ae85f9fe6691db1fdac09b928a92dece3">thread_module::crash_handler::get_stats</a></div><div class="ttdeci">crash_stats get_stats() const</div></div>
<div class="ttc" id="aclassthread__module_1_1crash__handler_html_af73014f86dd48f62d9a81b89ed40aa08"><div class="ttname"><a href="../../d6/d49/classthread__module_1_1crash__handler.html#af73014f86dd48f62d9a81b89ed40aa08">thread_module::crash_handler::set_crash_log_directory</a></div><div class="ttdeci">void set_crash_log_directory(const std::string &amp;directory)</div><div class="ttdoc">Set custom crash log directory.</div></div>
<div class="ttc" id="aclassthread__module_1_1job_html"><div class="ttname"><a href="../../d8/d42/classthread__module_1_1job.html">thread_module::job</a></div><div class="ttdoc">Represents a unit of work (task) to be executed, typically by a job queue.</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d6a/job_8h_source.html#l00101">job.h:102</a></div></div>
<div class="ttc" id="aclassthread__module_1_1job_html_ab11c230165f14290a427f58267ece23b"><div class="ttname"><a href="../../d8/d42/classthread__module_1_1job.html#ab11c230165f14290a427f58267ece23b">thread_module::job::to_string</a></div><div class="ttdeci">virtual auto to_string(void) const -&gt; std::string</div><div class="ttdoc">Provides a string representation of the job for logging or debugging.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d83/job_8cpp_source.html#l00277">job.cpp:277</a></div></div>
<div class="ttc" id="aclassthread__module_1_1result__void_html"><div class="ttname"><a href="../../dd/da2/classthread__module_1_1result__void.html">thread_module::result_void</a></div><div class="ttdoc">Wrapper for void result.</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d11/error__handling_8h_source.html#l00194">error_handling.h:194</a></div></div>
<div class="ttc" id="aclassthread__module_1_1scoped__crash__callback_html"><div class="ttname"><a href="../../d5/dfd/classthread__module_1_1scoped__crash__callback.html">thread_module::scoped_crash_callback</a></div><div class="ttdoc">RAII helper for automatic crash callback registration.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dc9/crash__handler_8h_source.html#l00194">crash_handler.h:194</a></div></div>
<div class="ttc" id="aclassthread__module_1_1thread__pool__crash__safety_html_a6f41b8b68fadb4e7d5053b914704332e"><div class="ttname"><a href="../../d4/d20/classthread__module_1_1thread__pool__crash__safety.html#a6f41b8b68fadb4e7d5053b914704332e">thread_module::thread_pool_crash_safety::set_job_crash_handler</a></div><div class="ttdeci">static void set_job_crash_handler(std::function&lt; void(const std::string &amp;pool_name, const crash_context &amp;)&gt; handler)</div><div class="ttdoc">Register job crash handler.</div></div>
<div class="ttc" id="aclassthread__module_1_1thread__pool__crash__safety_html_ad542c57ccae4e0b2ed6048c6116a36a2"><div class="ttname"><a href="../../d4/d20/classthread__module_1_1thread__pool__crash__safety.html#ad542c57ccae4e0b2ed6048c6116a36a2">thread_module::thread_pool_crash_safety::enable_for_pool</a></div><div class="ttdeci">static void enable_for_pool(const std::string &amp;pool_name, class thread_pool &amp;pool)</div><div class="ttdoc">Enable crash safety for a thread pool.</div></div>
<div class="ttc" id="aclassthread__pool__module_1_1thread__pool_html"><div class="ttname"><a href="../../d9/da1/classthread__pool__module_1_1thread__pool.html">thread_pool_module::thread_pool</a></div><div class="ttdoc">A thread pool for concurrent execution of jobs using multiple worker threads.</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dec/thread__pool_8h_source.html#l00118">thread_pool.h:121</a></div></div>
<div class="ttc" id="aclassthread__pool__module_1_1thread__worker_html"><div class="ttname"><a href="../../d7/d1b/classthread__pool__module_1_1thread__worker.html">thread_pool_module::thread_worker</a></div><div class="ttdoc">A specialized worker thread that processes jobs from a job_queue.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/de2/thread__worker_8h_source.html#l00074">thread_worker.h:75</a></div></div>
<div class="ttc" id="acrash__protection_2main_8cpp_html_a1a248f585fa8d27c85bb9ec05d6472df"><div class="ttname"><a href="../../d8/dcb/crash__protection_2main_8cpp.html#a1a248f585fa8d27c85bb9ec05d6472df">normal_task</a></div><div class="ttdeci">void normal_task(int task_id)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00080">main.cpp:80</a></div></div>
<div class="ttc" id="acrash__protection_2main_8cpp_html_a611a2c2c939164753898da654dc0dc8a"><div class="ttname"><a href="../../d8/dcb/crash__protection_2main_8cpp.html#a611a2c2c939164753898da654dc0dc8a">on_system_crash</a></div><div class="ttdeci">void on_system_crash(const crash_context &amp;context)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00121">main.cpp:121</a></div></div>
<div class="ttc" id="acrash__protection_2main_8cpp_html_a7e2dac29460f757cd4a198671c3b7bf3"><div class="ttname"><a href="../../d8/dcb/crash__protection_2main_8cpp.html#a7e2dac29460f757cd4a198671c3b7bf3">emergency_state_save</a></div><div class="ttdeci">void emergency_state_save()</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00146">main.cpp:146</a></div></div>
<div class="ttc" id="acrash__protection_2main_8cpp_html_abcc3426fa8cd19b722d7fd8e93448fef"><div class="ttname"><a href="../../d8/dcb/crash__protection_2main_8cpp.html#abcc3426fa8cd19b722d7fd8e93448fef">cleanup_global_resources</a></div><div class="ttdeci">void cleanup_global_resources()</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00136">main.cpp:136</a></div></div>
<div class="ttc" id="astructthread__module_1_1crash__context_html"><div class="ttname"><a href="../../d8/d68/structthread__module_1_1crash__context.html">thread_module::crash_context</a></div><div class="ttdoc">Crash context information.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dc9/crash__handler_8h_source.html#l00032">crash_handler.h:32</a></div></div>
<div class="ttc" id="astructthread__module_1_1crash__context_html_a0386a91817fd36d942ebc7da48f28ae8"><div class="ttname"><a href="../../d8/d68/structthread__module_1_1crash__context.html#a0386a91817fd36d942ebc7da48f28ae8">thread_module::crash_context::signal_name</a></div><div class="ttdeci">std::string signal_name</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dc9/crash__handler_8h_source.html#l00034">crash_handler.h:34</a></div></div>
<div class="ttc" id="astructthread__module_1_1crash__context_html_a31a08690fe703515171b036d9f7a80e2"><div class="ttname"><a href="../../d8/d68/structthread__module_1_1crash__context.html#a31a08690fe703515171b036d9f7a80e2">thread_module::crash_context::crash_time</a></div><div class="ttdeci">std::chrono::system_clock::time_point crash_time</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dc9/crash__handler_8h_source.html#l00037">crash_handler.h:37</a></div></div>
<div class="ttc" id="astructthread__module_1_1crash__context_html_a41614fedbd18e95360de11b6dfeb73fc"><div class="ttname"><a href="../../d8/d68/structthread__module_1_1crash__context.html#a41614fedbd18e95360de11b6dfeb73fc">thread_module::crash_context::signal_number</a></div><div class="ttdeci">int signal_number</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dc9/crash__handler_8h_source.html#l00033">crash_handler.h:33</a></div></div>
<div class="ttc" id="astructthread__module_1_1crash__context_html_a5e3a6fef2839ccf582bc1f4343317e24"><div class="ttname"><a href="../../d8/d68/structthread__module_1_1crash__context.html#a5e3a6fef2839ccf582bc1f4343317e24">thread_module::crash_context::crashing_thread</a></div><div class="ttdeci">std::thread::id crashing_thread</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dc9/crash__handler_8h_source.html#l00038">crash_handler.h:38</a></div></div>
<div class="ttc" id="astructthread__module_1_1crash__context_html_a6410823a1bd604cfb8d22b89c686d921"><div class="ttname"><a href="../../d8/d68/structthread__module_1_1crash__context.html#a6410823a1bd604cfb8d22b89c686d921">thread_module::crash_context::stack_trace</a></div><div class="ttdeci">std::string stack_trace</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dc9/crash__handler_8h_source.html#l00036">crash_handler.h:36</a></div></div>
<div class="ttc" id="astructthread__module_1_1crash__context_html_ac5bc96220c11fad2edcb48550aeaf6b9"><div class="ttname"><a href="../../d8/d68/structthread__module_1_1crash__context.html#ac5bc96220c11fad2edcb48550aeaf6b9">thread_module::crash_context::fault_address</a></div><div class="ttdeci">void * fault_address</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dc9/crash__handler_8h_source.html#l00035">crash_handler.h:35</a></div></div>
<div class="ttc" id="astructthread__module_1_1crash__handler_1_1crash__stats_html_aa7f868fe600a8acac59940372c0e892f"><div class="ttname"><a href="../../db/d15/structthread__module_1_1crash__handler_1_1crash__stats.html#aa7f868fe600a8acac59940372c0e892f">thread_module::crash_handler::crash_stats::total_crashes_handled</a></div><div class="ttdeci">size_t total_crashes_handled</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dc9/crash__handler_8h_source.html#l00127">crash_handler.h:127</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dcb/crash__protection_2main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph.png" border="0" usemap="#ad8/dcb/crash__protection_2main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph" alt=""/></div>
<map name="ad8/dcb/crash__protection_2main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph" id="ad8/dcb/crash__protection_2main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph">
<area shape="rect" title=" " alt="" coords="5,425,60,451"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#abcc3426fa8cd19b722d7fd8e93448fef" title=" " alt="" coords="112,5,303,31"/>
<area shape="poly" title=" " alt="" coords="32,425,37,347,49,232,71,117,87,71,106,40,109,37,113,41,110,44,92,74,77,118,55,233,42,348,37,426"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#a7e2dac29460f757cd4a198671c3b7bf3" title=" " alt="" coords="121,55,294,80"/>
<area shape="poly" title=" " alt="" coords="32,425,39,356,53,255,74,156,89,116,106,90,110,86,114,90,110,93,94,119,80,157,58,256,44,356,38,425"/>
<area shape="rect" href="../../d4/d20/classthread__module_1_1thread__pool__crash__safety.html#ad542c57ccae4e0b2ed6048c6116a36a2" title="Enable crash safety for a thread pool." alt="" coords="108,104,307,159"/>
<area shape="poly" title=" " alt="" coords="31,425,33,378,43,311,52,273,65,236,83,201,106,170,110,166,114,169,110,173,87,204,70,239,57,275,48,312,38,379,36,425"/>
<area shape="rect" href="../../d6/d49/classthread__module_1_1crash__handler.html#ae85f9fe6691db1fdac09b928a92dece3" title=" " alt="" coords="126,183,289,223"/>
<area shape="poly" title=" " alt="" coords="32,425,37,387,49,336,71,282,87,256,106,233,113,228,116,232,110,237,91,259,76,284,54,338,42,388,38,425"/>
<area shape="rect" href="../../d6/d49/classthread__module_1_1crash__handler.html#a47cf213a452d573bfa5da37d1b7f3654" title="Initialize crash handling with specified safety level." alt="" coords="126,247,289,287"/>
<area shape="poly" title=" " alt="" coords="35,424,58,364,78,328,106,297,113,292,116,297,110,301,83,331,62,366,40,426"/>
<area shape="rect" href="../../d6/d49/classthread__module_1_1crash__handler.html#a46a791b4e21ae6dd8981d523bd5eb005" title="Get the global crash handler instance." alt="" coords="126,311,289,351"/>
<area shape="poly" title=" " alt="" coords="42,423,69,392,106,361,118,355,120,360,110,366,72,396,46,427"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#a1a248f585fa8d27c85bb9ec05d6472df" title=" " alt="" coords="156,376,259,401"/>
<area shape="poly" title=" " alt="" coords="59,426,107,410,142,401,144,406,109,415,61,431"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#a611a2c2c939164753898da654dc0dc8a" title=" " alt="" coords="140,425,275,451"/>
<area shape="poly" title=" " alt="" coords="60,435,126,435,126,441,60,441"/>
<area shape="rect" href="../../d6/d49/classthread__module_1_1crash__handler.html#adad785942780b04ba99e1a827c5f521c" title="Register a resource cleanup function." alt="" coords="110,475,305,515"/>
<area shape="poly" title=" " alt="" coords="61,444,134,468,132,473,59,449"/>
<area shape="rect" href="../../d6/d49/classthread__module_1_1crash__handler.html#a03d72787870ecd7d6f6cdafccdd3b343" title="Register a callback to be called during crash handling." alt="" coords="118,540,297,595"/>
<area shape="poly" title=" " alt="" coords="44,450,71,487,110,525,118,531,115,535,106,529,67,490,40,453"/>
<area shape="rect" href="../../d6/d49/classthread__module_1_1crash__handler.html#af73014f86dd48f62d9a81b89ed40aa08" title="Set custom crash log directory." alt="" coords="120,619,295,673"/>
<area shape="poly" title=" " alt="" coords="39,450,46,481,59,522,80,566,110,604,114,608,111,612,106,608,76,568,55,524,41,482,34,451"/>
<area shape="rect" href="../../d4/d20/classthread__module_1_1thread__pool__crash__safety.html#a6f41b8b68fadb4e7d5053b914704332e" title="Register job crash handler." alt="" coords="120,697,295,752"/>
<area shape="poly" title=" " alt="" coords="37,451,40,494,50,556,72,623,89,655,110,683,114,687,110,690,106,686,84,658,67,625,45,557,35,495,31,451"/>
<area shape="rect" href="../../d8/d42/classthread__module_1_1job.html#ab11c230165f14290a427f58267ece23b" title="Provides a string representation of the job for logging or debugging." alt="" coords="133,777,281,817"/>
<area shape="poly" title=" " alt="" coords="38,450,46,515,60,609,82,701,95,737,110,762,123,773,120,777,106,765,90,740,77,703,55,610,40,516,33,451"/>
<area shape="rect" href="../../d6/d49/classthread__module_1_1crash__handler.html#a1a4fd12433eebba77206eb322b7abb82" title="Manually trigger crash handling (for testing)" alt="" coords="122,841,293,896"/>
<area shape="poly" title=" " alt="" coords="37,451,44,527,57,639,79,752,93,797,110,827,113,831,109,834,106,830,88,799,74,753,52,640,38,527,32,451"/>
<area shape="rect" href="../../d6/d49/classthread__module_1_1crash__handler.html#a70ec77fb99c1a4bc3d65c315833f21ba" title="Unregister a crash callback." alt="" coords="126,920,289,975"/>
<area shape="poly" title=" " alt="" coords="37,451,41,540,53,677,62,748,75,814,91,868,110,906,117,913,113,917,106,909,86,870,70,815,57,749,47,677,36,541,32,451"/>
<area shape="rect" href="../../d1/daf/classutility__module_1_1formatter.html#a1b5ec167f6e47412edd77a4ea658e339" title="Formats a narrow&#45;character string with the given arguments." alt="" coords="355,777,541,817"/>
<area shape="poly" title=" " alt="" coords="281,794,341,794,341,799,281,799"/>
<area shape="rect" href="../../d1/daf/classutility__module_1_1formatter.html#a0e0cfc83510413df54bdf125abddbfbf" title=" " alt="" coords="589,777,776,817"/>
<area shape="poly" title=" " alt="" coords="541,803,576,803,576,808,541,808"/>
<area shape="poly" title=" " alt="" coords="589,791,555,790,555,785,589,785"/>
</map>
</div>

</div>
</div>
<a id="a1a248f585fa8d27c85bb9ec05d6472df" name="a1a248f585fa8d27c85bb9ec05d6472df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a248f585fa8d27c85bb9ec05d6472df">&#9670;&#160;</a></span>normal_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void normal_task </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>task_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00080">80</a> of file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   80</span>                              {</div>
<div class="line"><span class="lineno">   81</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[TASK] Task &quot;</span> &lt;&lt; task_id &lt;&lt; <span class="stringliteral">&quot; starting normally&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   82</span>    </div>
<div class="line"><span class="lineno">   83</span>    <span class="comment">// Simulate some work</span></div>
<div class="line"><span class="lineno">   84</span>    std::this_thread::sleep_for(std::chrono::milliseconds(100 + (task_id % 200)));</div>
<div class="line"><span class="lineno">   85</span>    </div>
<div class="line"><span class="lineno">   86</span>    <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#a1f532135d415c13ad46304f3c42c8353">tasks_completed</a>.fetch_add(1);</div>
<div class="line"><span class="lineno">   87</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[TASK] Task &quot;</span> &lt;&lt; task_id &lt;&lt; <span class="stringliteral">&quot; completed successfully&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   88</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dcb/crash__protection_2main_8cpp_a1a248f585fa8d27c85bb9ec05d6472df_icgraph.png" border="0" usemap="#ad8/dcb/crash__protection_2main_8cpp_a1a248f585fa8d27c85bb9ec05d6472df_icgraph" alt=""/></div>
<map name="ad8/dcb/crash__protection_2main_8cpp_a1a248f585fa8d27c85bb9ec05d6472df_icgraph" id="ad8/dcb/crash__protection_2main_8cpp_a1a248f585fa8d27c85bb9ec05d6472df_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,211,31"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a611a2c2c939164753898da654dc0dc8a" name="a611a2c2c939164753898da654dc0dc8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a611a2c2c939164753898da654dc0dc8a">&#9670;&#160;</a></span>on_system_crash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void on_system_crash </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/d68/structthread__module_1_1crash__context.html">crash_context</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00121">121</a> of file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  121</span>                                                   {</div>
<div class="line"><span class="lineno">  122</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n[ALERT] CRASH DETECTED!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  123</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Signal: &quot;</span> &lt;&lt; context.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a0386a91817fd36d942ebc7da48f28ae8">signal_name</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; context.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a41614fedbd18e95360de11b6dfeb73fc">signal_number</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  124</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Thread: &quot;</span> &lt;&lt; context.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a5e3a6fef2839ccf582bc1f4343317e24">crashing_thread</a> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  125</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Time: &quot;</span> &lt;&lt; std::chrono::duration_cast&lt;std::chrono::seconds&gt;(</div>
<div class="line"><span class="lineno">  126</span>        context.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a31a08690fe703515171b036d9f7a80e2">crash_time</a>.time_since_epoch()).count() &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  127</span>    </div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordflow">if</span> (!context.<a class="code hl_variable" href="../../d8/d68/structthread__module_1_1crash__context.html#a6410823a1bd604cfb8d22b89c686d921">stack_trace</a>.empty()) {</div>
<div class="line"><span class="lineno">  129</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Stack trace available&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  130</span>    }</div>
<div class="line"><span class="lineno">  131</span>    </div>
<div class="line"><span class="lineno">  132</span>    <span class="comment">// Mark system as no longer running</span></div>
<div class="line"><span class="lineno">  133</span>    <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#aeb7f74a4fbbade3d7352e01f89abcac7">system_running</a>.store(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  134</span>}</div>
<div class="ttc" id="acrash__protection_2main_8cpp_html_aeb7f74a4fbbade3d7352e01f89abcac7"><div class="ttname"><a href="../../d8/dcb/crash__protection_2main_8cpp.html#aeb7f74a4fbbade3d7352e01f89abcac7">system_running</a></div><div class="ttdeci">std::atomic&lt; bool &gt; system_running</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00027">main.cpp:27</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dcb/crash__protection_2main_8cpp_a611a2c2c939164753898da654dc0dc8a_icgraph.png" border="0" usemap="#ad8/dcb/crash__protection_2main_8cpp_a611a2c2c939164753898da654dc0dc8a_icgraph" alt=""/></div>
<map name="ad8/dcb/crash__protection_2main_8cpp_a611a2c2c939164753898da654dc0dc8a_icgraph" id="ad8/dcb/crash__protection_2main_8cpp_a611a2c2c939164753898da654dc0dc8a_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,243,31"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a027682e9e092bf01548f6263219d1227" name="a027682e9e092bf01548f6263219d1227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a027682e9e092bf01548f6263219d1227">&#9670;&#160;</a></span>potentially_crashing_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void potentially_crashing_task </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>task_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00090">90</a> of file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   90</span>                                            {</div>
<div class="line"><span class="lineno">   91</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[WARN] Task &quot;</span> &lt;&lt; task_id &lt;&lt; <span class="stringliteral">&quot; starting (potentially dangerous)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   92</span>    </div>
<div class="line"><span class="lineno">   93</span>    <span class="comment">// Random chance of crash</span></div>
<div class="line"><span class="lineno">   94</span>    std::random_device rd;</div>
<div class="line"><span class="lineno">   95</span>    std::mt19937 gen(rd());</div>
<div class="line"><span class="lineno">   96</span>    std::uniform_int_distribution&lt;&gt; crash_dist(1, 10);</div>
<div class="line"><span class="lineno">   97</span>    </div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordtype">int</span> outcome = crash_dist(gen);</div>
<div class="line"><span class="lineno">   99</span>    </div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">if</span> (outcome &lt;= 7) {</div>
<div class="line"><span class="lineno">  101</span>        <span class="comment">// Normal execution</span></div>
<div class="line"><span class="lineno">  102</span>        std::this_thread::sleep_for(std::chrono::milliseconds(50));</div>
<div class="line"><span class="lineno">  103</span>        <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#a1f532135d415c13ad46304f3c42c8353">tasks_completed</a>.fetch_add(1);</div>
<div class="line"><span class="lineno">  104</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;[TASK] Task &quot;</span> &lt;&lt; task_id &lt;&lt; <span class="stringliteral">&quot; completed safely&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  105</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (outcome == 8) {</div>
<div class="line"><span class="lineno">  106</span>        <span class="comment">// Segmentation fault</span></div>
<div class="line"><span class="lineno">  107</span>        <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#abee730dc8613e5540b922ac6251793f2">tasks_failed</a>.fetch_add(1);</div>
<div class="line"><span class="lineno">  108</span>        <a class="code hl_function" href="../../d8/dcb/crash__protection_2main_8cpp.html#adc8549c9469161e94e0cbbecd4aefeda">simulate_segmentation_fault</a>();</div>
<div class="line"><span class="lineno">  109</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (outcome == 9) {</div>
<div class="line"><span class="lineno">  110</span>        <span class="comment">// Division by zero</span></div>
<div class="line"><span class="lineno">  111</span>        <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#abee730dc8613e5540b922ac6251793f2">tasks_failed</a>.fetch_add(1);</div>
<div class="line"><span class="lineno">  112</span>        <a class="code hl_function" href="../../d8/dcb/crash__protection_2main_8cpp.html#a313aefe1da4451d1eca01e5e8dac33ea">simulate_division_by_zero</a>();</div>
<div class="line"><span class="lineno">  113</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  114</span>        <span class="comment">// Abort</span></div>
<div class="line"><span class="lineno">  115</span>        <a class="code hl_variable" href="../../d8/dcb/crash__protection_2main_8cpp.html#abee730dc8613e5540b922ac6251793f2">tasks_failed</a>.fetch_add(1);</div>
<div class="line"><span class="lineno">  116</span>        <a class="code hl_function" href="../../d8/dcb/crash__protection_2main_8cpp.html#a78786fc29ec6b5eb7c3e4a210da29a64">simulate_abort</a>();</div>
<div class="line"><span class="lineno">  117</span>    }</div>
<div class="line"><span class="lineno">  118</span>}</div>
<div class="ttc" id="acrash__protection_2main_8cpp_html_a313aefe1da4451d1eca01e5e8dac33ea"><div class="ttname"><a href="../../d8/dcb/crash__protection_2main_8cpp.html#a313aefe1da4451d1eca01e5e8dac33ea">simulate_division_by_zero</a></div><div class="ttdeci">void simulate_division_by_zero()</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00067">main.cpp:67</a></div></div>
<div class="ttc" id="acrash__protection_2main_8cpp_html_a78786fc29ec6b5eb7c3e4a210da29a64"><div class="ttname"><a href="../../d8/dcb/crash__protection_2main_8cpp.html#a78786fc29ec6b5eb7c3e4a210da29a64">simulate_abort</a></div><div class="ttdeci">void simulate_abort()</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00074">main.cpp:74</a></div></div>
<div class="ttc" id="acrash__protection_2main_8cpp_html_adc8549c9469161e94e0cbbecd4aefeda"><div class="ttname"><a href="../../d8/dcb/crash__protection_2main_8cpp.html#adc8549c9469161e94e0cbbecd4aefeda">simulate_segmentation_fault</a></div><div class="ttdeci">void simulate_segmentation_fault()</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00061">main.cpp:61</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dcb/crash__protection_2main_8cpp_a027682e9e092bf01548f6263219d1227_cgraph.png" border="0" usemap="#ad8/dcb/crash__protection_2main_8cpp_a027682e9e092bf01548f6263219d1227_cgraph" alt=""/></div>
<map name="ad8/dcb/crash__protection_2main_8cpp_a027682e9e092bf01548f6263219d1227_cgraph" id="ad8/dcb/crash__protection_2main_8cpp_a027682e9e092bf01548f6263219d1227_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,195,80"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#a78786fc29ec6b5eb7c3e4a210da29a64" title=" " alt="" coords="280,5,400,31"/>
<area shape="poly" title=" " alt="" coords="162,52,266,30,267,36,163,57"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#a313aefe1da4451d1eca01e5e8dac33ea" title=" " alt="" coords="243,55,437,80"/>
<area shape="poly" title=" " alt="" coords="195,65,229,65,229,70,195,70"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#adc8549c9469161e94e0cbbecd4aefeda" title=" " alt="" coords="252,105,428,145"/>
<area shape="poly" title=" " alt="" coords="155,77,243,99,242,104,153,83"/>
</map>
</div>

</div>
</div>
<a id="a78786fc29ec6b5eb7c3e4a210da29a64" name="a78786fc29ec6b5eb7c3e4a210da29a64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78786fc29ec6b5eb7c3e4a210da29a64">&#9670;&#160;</a></span>simulate_abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulate_abort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00074">74</a> of file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   74</span>                      {</div>
<div class="line"><span class="lineno">   75</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[CRASH] Simulating abort...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   76</span>    std::abort(); <span class="comment">// This will cause SIGABRT</span></div>
<div class="line"><span class="lineno">   77</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dcb/crash__protection_2main_8cpp_a78786fc29ec6b5eb7c3e4a210da29a64_icgraph.png" border="0" usemap="#ad8/dcb/crash__protection_2main_8cpp_a78786fc29ec6b5eb7c3e4a210da29a64_icgraph" alt=""/></div>
<map name="ad8/dcb/crash__protection_2main_8cpp_a78786fc29ec6b5eb7c3e4a210da29a64_icgraph" id="ad8/dcb/crash__protection_2main_8cpp_a78786fc29ec6b5eb7c3e4a210da29a64_icgraph">
<area shape="rect" title=" " alt="" coords="243,5,363,31"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#a027682e9e092bf01548f6263219d1227" title=" " alt="" coords="5,5,195,31"/>
<area shape="poly" title=" " alt="" coords="229,21,195,21,195,15,229,15"/>
</map>
</div>

</div>
</div>
<a id="a313aefe1da4451d1eca01e5e8dac33ea" name="a313aefe1da4451d1eca01e5e8dac33ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a313aefe1da4451d1eca01e5e8dac33ea">&#9670;&#160;</a></span>simulate_division_by_zero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulate_division_by_zero </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00067">67</a> of file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   67</span>                                 {</div>
<div class="line"><span class="lineno">   68</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[CRASH] Simulating division by zero...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   69</span>    <span class="keyword">volatile</span> <span class="keywordtype">int</span> zero = 0;</div>
<div class="line"><span class="lineno">   70</span>    <span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code hl_class" href="../../d2/d93/classthread__module_1_1result.html">result</a> = 100 / zero; <span class="comment">// This will cause SIGFPE</span></div>
<div class="line"><span class="lineno">   71</span>    (void)<a class="code hl_class" href="../../d2/d93/classthread__module_1_1result.html">result</a>;</div>
<div class="line"><span class="lineno">   72</span>}</div>
<div class="ttc" id="aclassthread__module_1_1result_html"><div class="ttname"><a href="../../d2/d93/classthread__module_1_1result.html">thread_module::result</a></div><div class="ttdoc">A template class representing either a value or an error.</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d11/error__handling_8h_source.html#l00238">error_handling.h:238</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dcb/crash__protection_2main_8cpp_a313aefe1da4451d1eca01e5e8dac33ea_icgraph.png" border="0" usemap="#ad8/dcb/crash__protection_2main_8cpp_a313aefe1da4451d1eca01e5e8dac33ea_icgraph" alt=""/></div>
<map name="ad8/dcb/crash__protection_2main_8cpp_a313aefe1da4451d1eca01e5e8dac33ea_icgraph" id="ad8/dcb/crash__protection_2main_8cpp_a313aefe1da4451d1eca01e5e8dac33ea_icgraph">
<area shape="rect" title=" " alt="" coords="243,5,437,31"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#a027682e9e092bf01548f6263219d1227" title=" " alt="" coords="5,5,195,31"/>
<area shape="poly" title=" " alt="" coords="229,21,195,21,195,15,229,15"/>
</map>
</div>

</div>
</div>
<a id="adc8549c9469161e94e0cbbecd4aefeda" name="adc8549c9469161e94e0cbbecd4aefeda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc8549c9469161e94e0cbbecd4aefeda">&#9670;&#160;</a></span>simulate_segmentation_fault()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulate_segmentation_fault </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00061">61</a> of file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   61</span>                                   {</div>
<div class="line"><span class="lineno">   62</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;[CRASH] Simulating segmentation fault...&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordtype">int</span>* null_ptr = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">   64</span>    *null_ptr = 42; <span class="comment">// This will cause SIGSEGV</span></div>
<div class="line"><span class="lineno">   65</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dcb/crash__protection_2main_8cpp_adc8549c9469161e94e0cbbecd4aefeda_icgraph.png" border="0" usemap="#ad8/dcb/crash__protection_2main_8cpp_adc8549c9469161e94e0cbbecd4aefeda_icgraph" alt=""/></div>
<map name="ad8/dcb/crash__protection_2main_8cpp_adc8549c9469161e94e0cbbecd4aefeda_icgraph" id="ad8/dcb/crash__protection_2main_8cpp_adc8549c9469161e94e0cbbecd4aefeda_icgraph">
<area shape="rect" title=" " alt="" coords="243,5,419,45"/>
<area shape="rect" href="../../d8/dcb/crash__protection_2main_8cpp.html#a027682e9e092bf01548f6263219d1227" title=" " alt="" coords="5,13,195,38"/>
<area shape="poly" title=" " alt="" coords="229,28,195,28,195,23,229,23"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a56463d0ca01cdb597f7cbce161ab4cc5" name="a56463d0ca01cdb597f7cbce161ab4cc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56463d0ca01cdb597f7cbce161ab4cc5">&#9670;&#160;</a></span>global_resources</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::shared_ptr&lt;<a class="el" href="../../d3/d9c/classcritical__resource.html">critical_resource</a>&gt; &gt; global_resources</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00058">58</a> of file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

</div>
</div>
<a id="aeb7f74a4fbbade3d7352e01f89abcac7" name="aeb7f74a4fbbade3d7352e01f89abcac7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb7f74a4fbbade3d7352e01f89abcac7">&#9670;&#160;</a></span>system_running</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; system_running {true}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00027">27</a> of file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   27</span>{<span class="keyword">true</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f532135d415c13ad46304f3c42c8353" name="a1f532135d415c13ad46304f3c42c8353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f532135d415c13ad46304f3c42c8353">&#9670;&#160;</a></span>tasks_completed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;int&gt; tasks_completed {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00028">28</a> of file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   28</span>{0};</div>
</div><!-- fragment -->
</div>
</div>
<a id="abee730dc8613e5540b922ac6251793f2" name="abee730dc8613e5540b922ac6251793f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abee730dc8613e5540b922ac6251793f2">&#9670;&#160;</a></span>tasks_failed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;int&gt; tasks_failed {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html#l00029">29</a> of file <a class="el" href="../../d8/dcb/crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   29</span>{0};</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Sep 13 2025 03:24:46 for Thread System by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
